{"version":3,"file":"mixScaledColors.js","names":["mixScaledColors","mixAmount","foreground","background","colorLuminance","getLuminance","luminanceAdjustmentScale","lower","lowest","adjustment","mixAdjustment","scaleMixAmount","mix"],"sources":["../../../../src/color/utils/mixScaledColors.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport getLuminance from 'polished/lib/color/getLuminance'\nimport mix from 'polished/lib/color/mix'\nimport { scaleMixAmount } from './scaleMixAmount'\n\nexport const mixScaledColors = (\n  mixAmount: number,\n  foreground: string,\n  background: string\n) => {\n  // Get the background colors luminance, if low, we need to scale the mix amount\n  const colorLuminance = getLuminance(background)\n\n  // We use this adjustment scale to to modify our blends based on the backgrounds luminosity\n  // The lower luminosity, the more intense we need to scale the blend\n  const luminanceAdjustmentScale = {\n    lower: 1.3,\n    lowest: 1.7,\n  }\n\n  // Adjust the mixAmount based on the background colors luminosity\n  let adjustment = mixAmount\n  if (colorLuminance < 0.16 && colorLuminance > 0.08) {\n    adjustment = luminanceAdjustmentScale.lower\n  } else if (colorLuminance < 0.08) {\n    adjustment = luminanceAdjustmentScale.lowest\n  }\n\n  // If the background's colors luminosity is greater than 0.3 use the default mix amount\n  // otherwise use the scaled mix\n  const mixAdjustment =\n    colorLuminance > 0.3 ? mixAmount : scaleMixAmount(mixAmount, adjustment)\n\n  return mix(mixAdjustment / 100, foreground, background)\n}\n"],"mappings":";;;;;;;AAKA;AACA;AACA;;AAEO,IAAMA,eAAe,GAAG,SAAlBA,eAAe,CAC1BC,SAAiB,EACjBC,UAAkB,EAClBC,UAAkB,EACf;EAEH,IAAMC,cAAc,GAAG,IAAAC,wBAAY,EAACF,UAAU,CAAC;;EAI/C,IAAMG,wBAAwB,GAAG;IAC/BC,KAAK,EAAE,GAAG;IACVC,MAAM,EAAE;EACV,CAAC;;EAGD,IAAIC,UAAU,GAAGR,SAAS;EAC1B,IAAIG,cAAc,GAAG,IAAI,IAAIA,cAAc,GAAG,IAAI,EAAE;IAClDK,UAAU,GAAGH,wBAAwB,CAACC,KAAK;EAC7C,CAAC,MAAM,IAAIH,cAAc,GAAG,IAAI,EAAE;IAChCK,UAAU,GAAGH,wBAAwB,CAACE,MAAM;EAC9C;;EAIA,IAAME,aAAa,GACjBN,cAAc,GAAG,GAAG,GAAGH,SAAS,GAAG,IAAAU,8BAAc,EAACV,SAAS,EAAEQ,UAAU,CAAC;EAE1E,OAAO,IAAAG,eAAG,EAACF,aAAa,GAAG,GAAG,EAAER,UAAU,EAAEC,UAAU,CAAC;AACzD,CAAC;AAAA"}