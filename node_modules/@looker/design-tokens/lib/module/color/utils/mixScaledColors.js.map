{"version":3,"file":"mixScaledColors.js","names":["getLuminance","mix","scaleMixAmount","mixScaledColors","mixAmount","foreground","background","colorLuminance","luminanceAdjustmentScale","lower","lowest","adjustment","mixAdjustment"],"sources":["../../../../src/color/utils/mixScaledColors.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport getLuminance from 'polished/lib/color/getLuminance'\nimport mix from 'polished/lib/color/mix'\nimport { scaleMixAmount } from './scaleMixAmount'\n\nexport const mixScaledColors = (\n  mixAmount: number,\n  foreground: string,\n  background: string\n) => {\n  // Get the background colors luminance, if low, we need to scale the mix amount\n  const colorLuminance = getLuminance(background)\n\n  // We use this adjustment scale to to modify our blends based on the backgrounds luminosity\n  // The lower luminosity, the more intense we need to scale the blend\n  const luminanceAdjustmentScale = {\n    lower: 1.3,\n    lowest: 1.7,\n  }\n\n  // Adjust the mixAmount based on the background colors luminosity\n  let adjustment = mixAmount\n  if (colorLuminance < 0.16 && colorLuminance > 0.08) {\n    adjustment = luminanceAdjustmentScale.lower\n  } else if (colorLuminance < 0.08) {\n    adjustment = luminanceAdjustmentScale.lowest\n  }\n\n  // If the background's colors luminosity is greater than 0.3 use the default mix amount\n  // otherwise use the scaled mix\n  const mixAdjustment =\n    colorLuminance > 0.3 ? mixAmount : scaleMixAmount(mixAmount, adjustment)\n\n  return mix(mixAdjustment / 100, foreground, background)\n}\n"],"mappings":";;AAKA,OAAOA,YAAY,MAAM,iCAAiC;AAC1D,OAAOC,GAAG,MAAM,wBAAwB;AACxC,SAASC,cAAc,QAAQ,kBAAkB;AAEjD,OAAO,MAAMC,eAAe,GAAG,CAC7BC,SAAiB,EACjBC,UAAkB,EAClBC,UAAkB,KACf;EAEH,MAAMC,cAAc,GAAGP,YAAY,CAACM,UAAU,CAAC;;EAI/C,MAAME,wBAAwB,GAAG;IAC/BC,KAAK,EAAE,GAAG;IACVC,MAAM,EAAE;EACV,CAAC;;EAGD,IAAIC,UAAU,GAAGP,SAAS;EAC1B,IAAIG,cAAc,GAAG,IAAI,IAAIA,cAAc,GAAG,IAAI,EAAE;IAClDI,UAAU,GAAGH,wBAAwB,CAACC,KAAK;EAC7C,CAAC,MAAM,IAAIF,cAAc,GAAG,IAAI,EAAE;IAChCI,UAAU,GAAGH,wBAAwB,CAACE,MAAM;EAC9C;;EAIA,MAAME,aAAa,GACjBL,cAAc,GAAG,GAAG,GAAGH,SAAS,GAAGF,cAAc,CAACE,SAAS,EAAEO,UAAU,CAAC;EAE1E,OAAOV,GAAG,CAACW,aAAa,GAAG,GAAG,EAAEP,UAAU,EAAEC,UAAU,CAAC;AACzD,CAAC"}