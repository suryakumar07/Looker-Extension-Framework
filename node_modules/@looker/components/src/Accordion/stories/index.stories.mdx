import { Accordion2, Code, MessageBar, Accordion } from '@looker/components'
import { Editor, excludedProps } from '@looker/storybook'
import { ArgsTable, Meta } from '@storybook/addon-docs'
import storyBasic from '!!raw-loader!./Basic'
import storyControlled from '!!raw-loader!./Controlled'
import storyCustomizedIndicator from '!!raw-loader!./CustomizedIndicator'
import storyDefaultOpen from '!!raw-loader!./DefaultOpen'
import storyIndicatorIcons from '!!raw-loader!./IndicatorIcons'
import storyLeft from '!!raw-loader!./Left'

<Meta component={Accordion2} title="Docs/Accordion" />

# Accordion

<MessageBar noActions intent="inform">
  Accordion has been deprecated and replaced with
  <Code fontWeight="bold" fontSize="inherit">
    Accordion2
  </Code> please update any existing instances to use the new improved version. Deprecation
  of `Accordion` is planned for @looker/components 3.0
</MessageBar>

`<Accordion2>` hides and shows `children` on click like a collapsible section.

The `label` of `<Accordion2>` is always visible and acts as the trigger to toggle the accordion. `label` can be either be a `string` or a `ReactNode`.

The `children` determines what content is hidden or shown by the accordion.

Use the `id` prop to set the ID of the `<Accordion2>`. In addition, IDs will be auto-generated for the underlying disclosure element and content container element based on `<Accordion2>`'s ID.

Use the `onClose` and `onOpen` props if you would like to trigger callbacks on `<Accordion2>` open or close.

If you want your `<Accordion2>` open by default, use the `defaultOpen` prop.

**Note:** `defaultOpen` should only be used when using an uncontrolled `<Accordion2>`. For more details on controlled `<Accordion2>`s, see the "Controlling an Accordion" section.

<Editor code={storyDefaultOpen} />

## Basic Accordion behavior

<Editor code={storyBasic} />

## Styling an Accordion's indicator

You can customize an `<Accordion>` indicator icon's size, position, and icon type via props.

Use the `indicatorPosition` prop to set the indicator's position on either the left or right side of the disclosure.

NOTE: `indicatorPosition="left"` will also change the default `indicatorIcons` as shown below.

<Editor code={storyLeft} />

Use the `indicatorIcons` prop to customize which icons represent an open or closed `<Accordion2>`.

By default, the `CaretDown` and `CaretUp` `<Icon>`s are used.

<Editor code={storyIndicatorIcons} />

<Editor code={storyCustomizedIndicator} />

## Controlling an Accordion

By default, the `<Accordion2>` is an uncontrolled component and maintains its own opened/closed state.

However, you can use the `isOpen` and `toggleOpen` props to explicitly control the state of your `<Accordion2>`.

When the `isOpen` prop receives `true`, your `<Accordion2>` will reveal its content. When `false`, your content will be hidden.

The `toggleOpen` prop should receive a function that has one parameter: a boolean. When the disclosure is clicked, the `toggleOpen` callback will be triggered and passed the opposite boolean of the current `isOpen` prop value.

<Editor code={storyControlled} />

## Props

<ArgsTable of={Accordion} exclude={excludedProps} />
