{"version":3,"file":"useSelectManager.js","names":["useSelectManager","possibilities","defaultSelections","useState","selections","setSelections","onSelect","selectionId","includes","filter","itemId","onSelectAll","length"],"sources":["../../../../src/DataTable/utils/useSelectManager.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { useState } from 'react'\n\nexport const useSelectManager = (\n  possibilities: string[],\n  defaultSelections: string[] = []\n) => {\n  const [selections, setSelections] = useState<string[]>(defaultSelections)\n\n  const onSelect = (selectionId: string) => {\n    /*\n      Note: In the event that selections includes the item being selected, we call filter only on selectableItems.\n      This is to avoid the situation where you have non-displayed items selected but only some displayed items.\n      Doing the above will mean you have selected items that cannot be unselected (i.e. there's no way to interact with non-displayed items).\n     */\n    setSelections(\n      selections.includes(selectionId)\n        ? selections.filter(\n            itemId => possibilities.includes(itemId) && itemId !== selectionId\n          )\n        : [...selections, selectionId]\n    )\n  }\n\n  const onSelectAll = () => {\n    setSelections(selections.length ? [] : possibilities)\n  }\n\n  return { onSelect, onSelectAll, selections, setSelections }\n}\n"],"mappings":";;;;;;;;;AAKA;;AAEO,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAgB,CAC3BC,aAAuB,EAEpB;EAAA,IADHC,iBAA2B,uEAAG,EAAE;EAEhC,gBAAoC,IAAAC,eAAQ,EAAWD,iBAAiB,CAAC;IAAA;IAAlEE,UAAU;IAAEC,aAAa;EAEhC,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,CAAIC,WAAmB,EAAK;IAMxCF,aAAa,CACXD,UAAU,CAACI,QAAQ,CAACD,WAAW,CAAC,GAC5BH,UAAU,CAACK,MAAM,CACf,UAAAC,MAAM;MAAA,OAAIT,aAAa,CAACO,QAAQ,CAACE,MAAM,CAAC,IAAIA,MAAM,KAAKH,WAAW;IAAA,EACnE,iDACGH,UAAU,IAAEG,WAAW,EAAC,CACjC;EACH,CAAC;EAED,IAAMI,WAAW,GAAG,SAAdA,WAAW,GAAS;IACxBN,aAAa,CAACD,UAAU,CAACQ,MAAM,GAAG,EAAE,GAAGX,aAAa,CAAC;EACvD,CAAC;EAED,OAAO;IAAEK,QAAQ,EAARA,QAAQ;IAAEK,WAAW,EAAXA,WAAW;IAAEP,UAAU,EAAVA,UAAU;IAAEC,aAAa,EAAbA;EAAc,CAAC;AAC7D,CAAC;AAAA"}