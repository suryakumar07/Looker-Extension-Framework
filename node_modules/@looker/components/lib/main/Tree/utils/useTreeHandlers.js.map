{"version":3,"file":"useTreeHandlers.js","names":["useTreeHandlers","props","useState","hovered","setHovered","onBlur","event","nextFocusTarget","relatedTarget","currentTarget","contains","onFocus","useWrapEvent","onMouseEnter","onMouseLeave","contentHandlers","wrapperHandlers"],"sources":["../../../../src/Tree/utils/useTreeHandlers.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { CompatibleHTMLProps } from '@looker/design-tokens'\nimport type { FocusEvent } from 'react'\nimport { useState } from 'react'\nimport { useWrapEvent } from '../../utils'\n\nexport const useTreeHandlers = (\n  props: Pick<\n    CompatibleHTMLProps<HTMLElement>,\n    'onFocus' | 'onMouseEnter' | 'onMouseLeave'\n  >\n) => {\n  const [hovered, setHovered] = useState(false)\n\n  // This is needed so that hover disclosed elements don't get lost during keyboard nav\n  const onBlur = (event: FocusEvent<HTMLElement>) => {\n    const nextFocusTarget = event.relatedTarget\n\n    if (nextFocusTarget && !event.currentTarget.contains(nextFocusTarget)) {\n      setHovered(false)\n    }\n  }\n  const onFocus = useWrapEvent(\n    useWrapEvent(() => setHovered(true), props.onFocus)\n  )\n\n  const onMouseEnter = useWrapEvent(() => setHovered(true), props.onMouseEnter)\n  const onMouseLeave = useWrapEvent(() => setHovered(false), props.onMouseLeave)\n\n  return {\n    contentHandlers: {\n      onFocus,\n    },\n    hovered,\n    wrapperHandlers: {\n      onBlur,\n      onMouseEnter,\n      onMouseLeave,\n    },\n  }\n}\n"],"mappings":";;;;;;;;AAOA;AACA;;AAEO,IAAMA,eAAe,GAAG,SAAlBA,eAAe,CAC1BC,KAGC,EACE;EACH,gBAA8B,IAAAC,eAAQ,EAAC,KAAK,CAAC;IAAA;IAAtCC,OAAO;IAAEC,UAAU;;EAG1B,IAAMC,MAAM,GAAG,SAATA,MAAM,CAAIC,KAA8B,EAAK;IACjD,IAAMC,eAAe,GAAGD,KAAK,CAACE,aAAa;IAE3C,IAAID,eAAe,IAAI,CAACD,KAAK,CAACG,aAAa,CAACC,QAAQ,CAACH,eAAe,CAAC,EAAE;MACrEH,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EACD,IAAMO,OAAO,GAAG,IAAAC,mBAAY,EAC1B,IAAAA,mBAAY,EAAC;IAAA,OAAMR,UAAU,CAAC,IAAI,CAAC;EAAA,GAAEH,KAAK,CAACU,OAAO,CAAC,CACpD;EAED,IAAME,YAAY,GAAG,IAAAD,mBAAY,EAAC;IAAA,OAAMR,UAAU,CAAC,IAAI,CAAC;EAAA,GAAEH,KAAK,CAACY,YAAY,CAAC;EAC7E,IAAMC,YAAY,GAAG,IAAAF,mBAAY,EAAC;IAAA,OAAMR,UAAU,CAAC,KAAK,CAAC;EAAA,GAAEH,KAAK,CAACa,YAAY,CAAC;EAE9E,OAAO;IACLC,eAAe,EAAE;MACfJ,OAAO,EAAPA;IACF,CAAC;IACDR,OAAO,EAAPA,OAAO;IACPa,eAAe,EAAE;MACfX,MAAM,EAANA,MAAM;MACNQ,YAAY,EAAZA,YAAY;MACZC,YAAY,EAAZA;IACF;EACF,CAAC;AACH,CAAC;AAAA"}