{"version":3,"file":"TreeCollection.js","names":["TreeCollectionInternal","forwardRef","props","forwardedRef","internalRef","useRef","handleKeyDown","event","treeItems","getItems","current","key","firstItem","focus","lastItem","length","navProps","useArrowKeyNav","axis","getNextFocus","getNextItemFocus","onKeyDown","ref","useForkedRef","TreeCollection","styled"],"sources":["../../../src/Tree/TreeCollection.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { CompatibleHTMLProps } from '@looker/design-tokens'\nimport type { KeyboardEvent, Ref } from 'react'\nimport React, { forwardRef, useRef } from 'react'\nimport styled from 'styled-components'\nimport { getNextItemFocus, getItems } from '../List/utils'\nimport { useArrowKeyNav, useForkedRef } from '../utils'\n\nexport type TreeCollectionProps = CompatibleHTMLProps<HTMLUListElement>\n\nconst TreeCollectionInternal = forwardRef(\n  (props: TreeCollectionProps, forwardedRef: Ref<HTMLUListElement>) => {\n    const internalRef = useRef<HTMLUListElement>(null)\n\n    // Additional key shortcuts\n    const handleKeyDown = (event: KeyboardEvent<HTMLElement>) => {\n      const treeItems = getItems(internalRef.current as HTMLElement)\n      if (event.key === 'Home') {\n        const firstItem = treeItems[0]\n        firstItem && firstItem.focus()\n      } else if (event.key === 'End') {\n        const lastItem = treeItems[treeItems.length - 1]\n        lastItem && lastItem.focus()\n      }\n    }\n\n    const navProps = useArrowKeyNav<HTMLUListElement>({\n      axis: 'both',\n      getNextFocus: getNextItemFocus,\n      onKeyDown: handleKeyDown,\n      ref: useForkedRef(internalRef, forwardedRef),\n    })\n\n    return <ul role=\"tree\" {...props} {...navProps} />\n  }\n)\n\nexport const TreeCollection = styled(TreeCollectionInternal)`\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n`\n"],"mappings":";;;;;;;;;;AAOA;AACA;AACA;AACA;AAAuD;AAAA;AAAA;AAIvD,IAAMA,sBAAsB,GAAG,IAAAC,iBAAU,EACvC,UAACC,KAA0B,EAAEC,YAAmC,EAAK;EACnE,IAAMC,WAAW,GAAG,IAAAC,aAAM,EAAmB,IAAI,CAAC;;EAGlD,IAAMC,aAAa,GAAG,SAAhBA,aAAa,CAAIC,KAAiC,EAAK;IAC3D,IAAMC,SAAS,GAAG,IAAAC,eAAQ,EAACL,WAAW,CAACM,OAAO,CAAgB;IAC9D,IAAIH,KAAK,CAACI,GAAG,KAAK,MAAM,EAAE;MACxB,IAAMC,SAAS,GAAGJ,SAAS,CAAC,CAAC,CAAC;MAC9BI,SAAS,IAAIA,SAAS,CAACC,KAAK,EAAE;IAChC,CAAC,MAAM,IAAIN,KAAK,CAACI,GAAG,KAAK,KAAK,EAAE;MAC9B,IAAMG,QAAQ,GAAGN,SAAS,CAACA,SAAS,CAACO,MAAM,GAAG,CAAC,CAAC;MAChDD,QAAQ,IAAIA,QAAQ,CAACD,KAAK,EAAE;IAC9B;EACF,CAAC;EAED,IAAMG,QAAQ,GAAG,IAAAC,sBAAc,EAAmB;IAChDC,IAAI,EAAE,MAAM;IACZC,YAAY,EAAEC,uBAAgB;IAC9BC,SAAS,EAAEf,aAAa;IACxBgB,GAAG,EAAE,IAAAC,oBAAY,EAACnB,WAAW,EAAED,YAAY;EAC7C,CAAC,CAAC;EAEF,OAAO;IAAI,IAAI,EAAC;EAAM,GAAKD,KAAK,EAAMc,QAAQ,EAAI;AACpD,CAAC,CACF;AAEM,IAAMQ,cAAc,GAAG,IAAAC,4BAAM,EAACzB,sBAAsB,CAAC;EAAA;EAAA;AAAA,iJAI3D;AAAA"}