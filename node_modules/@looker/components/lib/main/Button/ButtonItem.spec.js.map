{"version":3,"file":"ButtonItem.spec.js","names":["beforeEach","jest","useFakeTimers","afterEach","runOnlyPendingTimers","useRealTimers","runTimers","act","describe","test","renderWithTheme","button","screen","getByRole","expect","not","toHaveClass","toHaveStyle","fireEvent","focus","mouseDown","mouseUp","blur","click","document"],"sources":["../../../src/Button/ButtonItem.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport '@testing-library/jest-dom/extend-expect'\nimport { act, fireEvent, screen } from '@testing-library/react'\nimport React from 'react'\n\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { ButtonItem } from './ButtonItem'\n\nbeforeEach(() => {\n  jest.useFakeTimers()\n})\n\nafterEach(() => {\n  jest.runOnlyPendingTimers()\n  jest.useRealTimers()\n})\n\nconst runTimers = () =>\n  act(() => {\n    jest.runOnlyPendingTimers()\n  })\n\ndescribe('ButtonItem', () => {\n  test('ripple effect', () => {\n    renderWithTheme(<ButtonItem>Button Item</ButtonItem>)\n\n    const button = screen.getByRole('button')\n    expect(button).not.toHaveClass('bg-on fg-in')\n    expect(button).toHaveStyle({\n      '--ripple-color': '#71767a',\n      '--ripple-scale-end': '1',\n      '--ripple-scale-start': '0.1',\n      '--ripple-size': '100%',\n      '--ripple-translate': '0, 0',\n    })\n\n    button && fireEvent.focus(button)\n    expect(button).toHaveClass('bg-on')\n\n    button && fireEvent.mouseDown(button)\n    expect(button).toHaveClass('bg-on fg-in')\n\n    // foreground is locked for a minimum time to animate the ripple\n    button && fireEvent.mouseUp(button)\n    runTimers()\n    expect(button).toHaveClass('bg-on fg-out')\n    runTimers()\n    expect(button).toHaveClass('bg-on')\n\n    button && fireEvent.blur(button)\n    expect(button).not.toHaveClass('bg-on fg-in')\n    fireEvent.click(document)\n  })\n})\n"],"mappings":";;;AAKA;AACA;AACA;AAEA;AACA;;AAEAA,UAAU,CAAC,YAAM;EACfC,IAAI,CAACC,aAAa,EAAE;AACtB,CAAC,CAAC;AAEFC,SAAS,CAAC,YAAM;EACdF,IAAI,CAACG,oBAAoB,EAAE;EAC3BH,IAAI,CAACI,aAAa,EAAE;AACtB,CAAC,CAAC;AAEF,IAAMC,SAAS,GAAG,SAAZA,SAAS;EAAA,OACb,IAAAC,UAAG,EAAC,YAAM;IACRN,IAAI,CAACG,oBAAoB,EAAE;EAC7B,CAAC,CAAC;AAAA;AAEJI,QAAQ,CAAC,YAAY,EAAE,YAAM;EAC3BC,IAAI,CAAC,eAAe,EAAE,YAAM;IAC1B,IAAAC,oCAAe,EAAC,iCAAC,sBAAU,sBAAyB,CAAC;IAErD,IAAMC,MAAM,GAAGC,aAAM,CAACC,SAAS,CAAC,QAAQ,CAAC;IACzCC,MAAM,CAACH,MAAM,CAAC,CAACI,GAAG,CAACC,WAAW,CAAC,aAAa,CAAC;IAC7CF,MAAM,CAACH,MAAM,CAAC,CAACM,WAAW,CAAC;MACzB,gBAAgB,EAAE,SAAS;MAC3B,oBAAoB,EAAE,GAAG;MACzB,sBAAsB,EAAE,KAAK;MAC7B,eAAe,EAAE,MAAM;MACvB,oBAAoB,EAAE;IACxB,CAAC,CAAC;IAEFN,MAAM,IAAIO,gBAAS,CAACC,KAAK,CAACR,MAAM,CAAC;IACjCG,MAAM,CAACH,MAAM,CAAC,CAACK,WAAW,CAAC,OAAO,CAAC;IAEnCL,MAAM,IAAIO,gBAAS,CAACE,SAAS,CAACT,MAAM,CAAC;IACrCG,MAAM,CAACH,MAAM,CAAC,CAACK,WAAW,CAAC,aAAa,CAAC;;IAGzCL,MAAM,IAAIO,gBAAS,CAACG,OAAO,CAACV,MAAM,CAAC;IACnCL,SAAS,EAAE;IACXQ,MAAM,CAACH,MAAM,CAAC,CAACK,WAAW,CAAC,cAAc,CAAC;IAC1CV,SAAS,EAAE;IACXQ,MAAM,CAACH,MAAM,CAAC,CAACK,WAAW,CAAC,OAAO,CAAC;IAEnCL,MAAM,IAAIO,gBAAS,CAACI,IAAI,CAACX,MAAM,CAAC;IAChCG,MAAM,CAACH,MAAM,CAAC,CAACI,GAAG,CAACC,WAAW,CAAC,aAAa,CAAC;IAC7CE,gBAAS,CAACK,KAAK,CAACC,QAAQ,CAAC;EAC3B,CAAC,CAAC;AACJ,CAAC,CAAC"}