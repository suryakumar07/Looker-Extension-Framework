{"version":3,"file":"InputFile.spec.js","names":["test","renderWithTheme","jest","fn","expect","screen","getByText","toBeVisible","handleFileMock","file","File","type","input","getByTestId","fireEvent","change","target","files","toBeCalledTimes","toHaveBeenCalledWith","text","getByRole","toHaveValue"],"sources":["../../../../../src/Form/Inputs/InputFile/InputFile.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { fireEvent, screen } from '@testing-library/react'\nimport React from 'react'\nimport { InputFile } from '.'\n\ntest('displays input text and button', () => {\n  renderWithTheme(<InputFile handleFile={jest.fn()} />)\n  expect(screen.getByText('Upload File')).toBeVisible()\n})\n\ntest('button text prop changes button text', () => {\n  renderWithTheme(<InputFile handleFile={jest.fn()} buttonText=\"ButtonTest\" />)\n  expect(screen.getByText('ButtonTest')).toBeVisible()\n})\n\ntest('should allow user to choose a file and calls handleFile on selection', async () => {\n  const handleFileMock = jest.fn()\n  renderWithTheme(<InputFile handleFile={handleFileMock} />)\n\n  const file = new File(['testing'], 'testing.json', {\n    type: 'application/JSON',\n  })\n  const input = screen.getByTestId('input-file')\n\n  fireEvent.change(input, { target: { files: [file] } })\n\n  expect(handleFileMock).toBeCalledTimes(1)\n  expect(handleFileMock).toHaveBeenCalledWith(file)\n})\n\ntest('should show file name in textbox once file uploads', async () => {\n  renderWithTheme(<InputFile handleFile={jest.fn()} />)\n\n  const file = new File(['testing'], 'testing.json', {\n    type: 'application/JSON',\n  })\n  const input = screen.getByTestId('input-file')\n  const text = screen.getByRole('textbox') as HTMLInputElement\n\n  fireEvent.change(input, { target: { files: [file] } })\n\n  expect(text).toHaveValue('testing.json')\n})\n"],"mappings":";;;;AAKA;AACA;AACA;AACA;;AAEAA,IAAI,CAAC,gCAAgC,EAAE,YAAM;EAC3C,IAAAC,oCAAe,EAAC,iCAAC,WAAS;IAAC,UAAU,EAAEC,IAAI,CAACC,EAAE;EAAG,EAAG,CAAC;EACrDC,MAAM,CAACC,aAAM,CAACC,SAAS,CAAC,aAAa,CAAC,CAAC,CAACC,WAAW,EAAE;AACvD,CAAC,CAAC;AAEFP,IAAI,CAAC,sCAAsC,EAAE,YAAM;EACjD,IAAAC,oCAAe,EAAC,iCAAC,WAAS;IAAC,UAAU,EAAEC,IAAI,CAACC,EAAE,EAAG;IAAC,UAAU,EAAC;EAAY,EAAG,CAAC;EAC7EC,MAAM,CAACC,aAAM,CAACC,SAAS,CAAC,YAAY,CAAC,CAAC,CAACC,WAAW,EAAE;AACtD,CAAC,CAAC;AAEFP,IAAI,CAAC,sEAAsE,6DAAE;EAAA;EAAA;IAAA;MAAA;QACrEQ,cAAc,GAAGN,IAAI,CAACC,EAAE,EAAE;QAChC,IAAAF,oCAAe,EAAC,iCAAC,WAAS;UAAC,UAAU,EAAEO;QAAe,EAAG,CAAC;QAEpDC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC,SAAS,CAAC,EAAE,cAAc,EAAE;UACjDC,IAAI,EAAE;QACR,CAAC,CAAC;QACIC,KAAK,GAAGP,aAAM,CAACQ,WAAW,CAAC,YAAY,CAAC;QAE9CC,gBAAS,CAACC,MAAM,CAACH,KAAK,EAAE;UAAEI,MAAM,EAAE;YAAEC,KAAK,EAAE,CAACR,IAAI;UAAE;QAAE,CAAC,CAAC;QAEtDL,MAAM,CAACI,cAAc,CAAC,CAACU,eAAe,CAAC,CAAC,CAAC;QACzCd,MAAM,CAACI,cAAc,CAAC,CAACW,oBAAoB,CAACV,IAAI,CAAC;MAAA;MAAA;QAAA;IAAA;EAAA;AAAA,CAClD,GAAC;AAEFT,IAAI,CAAC,oDAAoD,6DAAE;EAAA;EAAA;IAAA;MAAA;QACzD,IAAAC,oCAAe,EAAC,iCAAC,WAAS;UAAC,UAAU,EAAEC,IAAI,CAACC,EAAE;QAAG,EAAG,CAAC;QAE/CM,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC,SAAS,CAAC,EAAE,cAAc,EAAE;UACjDC,IAAI,EAAE;QACR,CAAC,CAAC;QACIC,KAAK,GAAGP,aAAM,CAACQ,WAAW,CAAC,YAAY,CAAC;QACxCO,IAAI,GAAGf,aAAM,CAACgB,SAAS,CAAC,SAAS,CAAC;QAExCP,gBAAS,CAACC,MAAM,CAACH,KAAK,EAAE;UAAEI,MAAM,EAAE;YAAEC,KAAK,EAAE,CAACR,IAAI;UAAE;QAAE,CAAC,CAAC;QAEtDL,MAAM,CAACgB,IAAI,CAAC,CAACE,WAAW,CAAC,cAAc,CAAC;MAAA;MAAA;QAAA;IAAA;EAAA;AAAA,CACzC,GAAC"}