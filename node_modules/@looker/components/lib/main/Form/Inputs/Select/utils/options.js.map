{"version":3,"file":"options.js","names":["getMatchingOption","value","options","find","option","getOption","matchingOption","label","labelProps","undefined","getOptions","values","map","getComboboxText","compareOption","toLowerCase","getFirstOption","optionAsGroup","notInOptions","currentOptions","inputValue","checkForIcon","icon","optionsHaveIcons","length","some"],"sources":["../../../../../../src/Form/Inputs/Select/utils/options.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { ComboboxOptionObject } from '../../Combobox'\nimport { getComboboxText } from '../../Combobox'\nimport type {\n  SelectOptionGroupProps,\n  SelectOptionObject,\n  SelectOptionProps,\n} from '../types'\n\nexport function getMatchingOption(\n  value?: string,\n  options?: SelectOptionObject[]\n) {\n  return options?.find(option => option.value === value)\n}\n\nexport function getOption(value?: string, options?: SelectOptionObject[]) {\n  const matchingOption = getMatchingOption(value, options)\n  const label = matchingOption?.label\n  // If this is a filterable Select and the current option has been filtered out\n  // leave label out, so that the matching against the option saved in ComboboxContext won't fail\n  const labelProps = label ? { label } : {}\n  return value !== undefined ? { ...labelProps, value } : undefined\n}\n\nexport function getOptions(\n  values?: string[],\n  options?: SelectOptionObject[]\n): SelectOptionObject[] | undefined {\n  if (!values) return undefined\n  return values.map(value => ({\n    label: getComboboxText(value, options),\n    value,\n  }))\n}\n\nexport function compareOption(option: { value: string }, value: string) {\n  return getComboboxText(option).toLowerCase() === value.toLowerCase()\n}\n\nexport function getFirstOption(\n  options: SelectOptionProps[]\n): SelectOptionObject {\n  const optionAsGroup = options[0] as SelectOptionGroupProps\n  if (optionAsGroup && optionAsGroup.options) return optionAsGroup.options[0]\n  return options[0] as SelectOptionObject\n}\n\n// Is a value contained the specified options (logic to show the on-the-fly \"Create\" option)\nexport function notInOptions(\n  currentOptions: ComboboxOptionObject[],\n  options?: SelectOptionObject[],\n  inputValue?: string\n) {\n  if (!inputValue) return false\n  if (currentOptions.find(option => compareOption(option, inputValue))) {\n    return false\n  }\n  if (!options) return true\n  return options.find(option => compareOption(option, inputValue)) === undefined\n}\n\nconst checkForIcon = (option: SelectOptionObject) => option.icon !== undefined\n\nexport const optionsHaveIcons = (options?: SelectOptionObject[]) => {\n  if (!options || options.length === 0) return false\n  return options.some(option => checkForIcon(option))\n}\n"],"mappings":";;;;;;;;;;;;;;AAMA;AAAgD;AAAA;AAOzC,SAASA,iBAAiB,CAC/BC,KAAc,EACdC,OAA8B,EAC9B;EACA,OAAOA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIA,MAAM,CAACH,KAAK,KAAKA,KAAK;EAAA,EAAC;AACxD;AAEO,SAASI,SAAS,CAACJ,KAAc,EAAEC,OAA8B,EAAE;EACxE,IAAMI,cAAc,GAAGN,iBAAiB,CAACC,KAAK,EAAEC,OAAO,CAAC;EACxD,IAAMK,KAAK,GAAGD,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEC,KAAK;EAGnC,IAAMC,UAAU,GAAGD,KAAK,GAAG;IAAEA,KAAK,EAALA;EAAM,CAAC,GAAG,CAAC,CAAC;EACzC,OAAON,KAAK,KAAKQ,SAAS,mCAAQD,UAAU;IAAEP,KAAK,EAALA;EAAK,KAAKQ,SAAS;AACnE;AAEO,SAASC,UAAU,CACxBC,MAAiB,EACjBT,OAA8B,EACI;EAClC,IAAI,CAACS,MAAM,EAAE,OAAOF,SAAS;EAC7B,OAAOE,MAAM,CAACC,GAAG,CAAC,UAAAX,KAAK;IAAA,OAAK;MAC1BM,KAAK,EAAE,IAAAM,yBAAe,EAACZ,KAAK,EAAEC,OAAO,CAAC;MACtCD,KAAK,EAALA;IACF,CAAC;EAAA,CAAC,CAAC;AACL;AAEO,SAASa,aAAa,CAACV,MAAyB,EAAEH,KAAa,EAAE;EACtE,OAAO,IAAAY,yBAAe,EAACT,MAAM,CAAC,CAACW,WAAW,EAAE,KAAKd,KAAK,CAACc,WAAW,EAAE;AACtE;AAEO,SAASC,cAAc,CAC5Bd,OAA4B,EACR;EACpB,IAAMe,aAAa,GAAGf,OAAO,CAAC,CAAC,CAA2B;EAC1D,IAAIe,aAAa,IAAIA,aAAa,CAACf,OAAO,EAAE,OAAOe,aAAa,CAACf,OAAO,CAAC,CAAC,CAAC;EAC3E,OAAOA,OAAO,CAAC,CAAC,CAAC;AACnB;;AAGO,SAASgB,YAAY,CAC1BC,cAAsC,EACtCjB,OAA8B,EAC9BkB,UAAmB,EACnB;EACA,IAAI,CAACA,UAAU,EAAE,OAAO,KAAK;EAC7B,IAAID,cAAc,CAAChB,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIU,aAAa,CAACV,MAAM,EAAEgB,UAAU,CAAC;EAAA,EAAC,EAAE;IACpE,OAAO,KAAK;EACd;EACA,IAAI,CAAClB,OAAO,EAAE,OAAO,IAAI;EACzB,OAAOA,OAAO,CAACC,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIU,aAAa,CAACV,MAAM,EAAEgB,UAAU,CAAC;EAAA,EAAC,KAAKX,SAAS;AAChF;AAEA,IAAMY,YAAY,GAAG,SAAfA,YAAY,CAAIjB,MAA0B;EAAA,OAAKA,MAAM,CAACkB,IAAI,KAAKb,SAAS;AAAA;AAEvE,IAAMc,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIrB,OAA8B,EAAK;EAClE,IAAI,CAACA,OAAO,IAAIA,OAAO,CAACsB,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK;EAClD,OAAOtB,OAAO,CAACuB,IAAI,CAAC,UAAArB,MAAM;IAAA,OAAIiB,YAAY,CAACjB,MAAM,CAAC;EAAA,EAAC;AACrD,CAAC;AAAA"}