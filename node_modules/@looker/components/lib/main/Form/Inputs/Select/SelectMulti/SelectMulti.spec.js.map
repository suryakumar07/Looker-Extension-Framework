{"version":3,"file":"SelectMulti.spec.js","names":["beforeEach","jest","useFakeTimers","afterEach","runOnlyPendingTimers","useRealTimers","runTimers","act","cleanup","basicOptions","label","value","describe","test","renderWithTheme","fireEvent","click","screen","getByPlaceholderText","select","getByText","closest","expect","not","toHaveClass","toHaveStyle","focus","mouseDown","mouseUp","blur","document","options","fn","toBeVisible","getAllByRole","toHaveLength","TestComponent","React","useState","values","setValues","handleFilter","input","change","target","toHaveValue","cheeses","term","setTerm","useMemo","filter","cheese","toUpperCase","indexOf","bar","getAllByText","queryByText","toBeInTheDocument","keyDown","key","onChangeMock","toHaveBeenCalled","toHaveBeenCalledWith","getByRole","queryByRole","hiddenInput","getByTestId","metaKey","toHaveDisplayValue","firePasteEvent"],"sources":["../../../../../../src/Form/Inputs/Select/SelectMulti/SelectMulti.spec.tsx"],"sourcesContent":["/*\n\n MIT License\n\n Copyright (c) 2022 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport { firePasteEvent, renderWithTheme } from '@looker/components-test-utils'\nimport { act, cleanup, fireEvent, screen } from '@testing-library/react'\nimport React from 'react'\n\nimport { SelectMulti } from './SelectMulti'\n\nbeforeEach(() => {\n  jest.useFakeTimers()\n})\n\nafterEach(() => {\n  jest.runOnlyPendingTimers()\n  jest.useRealTimers()\n})\n\nconst runTimers = () =>\n  act(() => {\n    jest.runOnlyPendingTimers()\n  })\n\nafterEach(cleanup)\n\nconst basicOptions = [\n  { label: 'Foo', value: 'FOO' },\n  { label: 'Bar', value: 'BAR' },\n]\n\ndescribe('SelectMulti', () => {\n  test('ripple effect', () => {\n    renderWithTheme(\n      <SelectMulti\n        options={[\n          { label: 'Cheddar', value: 'cheddar' },\n          { label: 'Gouda', value: 'gouda' },\n          { label: 'Swiss', value: 'swiss' },\n        ]}\n        placeholder=\"SelectMulti\"\n      ></SelectMulti>\n    )\n\n    fireEvent.click(screen.getByPlaceholderText('SelectMulti'))\n\n    const select = screen.getByText('Cheddar').closest('li')\n    expect(select).not.toHaveClass('bg-on fg-in')\n    expect(select).toHaveStyle({\n      '--ripple-color': '#71767a',\n      '--ripple-scale-end': '1',\n      '--ripple-scale-start': '0.1',\n      '--ripple-size': '100%',\n      '--ripple-translate': '0, 0',\n    })\n\n    select && fireEvent.focus(select)\n    expect(select).toHaveClass('bg-on')\n\n    select && fireEvent.mouseDown(select)\n    expect(select).toHaveClass('bg-on fg-in')\n\n    // foreground is locked for a minimum time to animate the ripple\n    select && fireEvent.mouseUp(select)\n    runTimers()\n    expect(select).toHaveClass('bg-on fg-out')\n    runTimers()\n    expect(select).toHaveClass('bg-on')\n\n    select && fireEvent.blur(select)\n    expect(select).not.toHaveClass('bg-on fg-in')\n    fireEvent.click(document)\n  })\n  test('values', () => {\n    const options = [\n      { label: 'Foo', value: 'FOO' },\n      { label: 'Bar', value: 'BAR' },\n      { label: 'Baz', value: 'BAZ' },\n      { label: 'Qux', value: 'QUX' },\n    ]\n    renderWithTheme(\n      <SelectMulti\n        options={options}\n        placeholder=\"Search\"\n        values={['BAZ', 'FOO']}\n        onChange={jest.fn()}\n      />\n    )\n    // should already have the 2 chips\n    expect(screen.getByText('Baz')).toBeVisible()\n    expect(screen.getByText('Foo')).toBeVisible()\n    // 2 chip remove buttons and 1 clear all button\n    expect(screen.getAllByRole('button')).toHaveLength(3)\n  })\n\n  test('defaultValues', () => {\n    const options = [\n      { label: 'Foo', value: 'FOO' },\n      { label: 'Bar', value: 'BAR' },\n      { label: 'Baz', value: 'BAZ' },\n      { label: 'Qux', value: 'QUX' },\n    ]\n    renderWithTheme(\n      <SelectMulti\n        options={options}\n        placeholder=\"Search\"\n        defaultValues={['BAR']}\n      />\n    )\n    // should already have the chip\n    expect(screen.getByText('Bar')).toBeVisible()\n    // 1 chip remove button and 1 clear all button\n    expect(screen.getAllByRole('button')).toHaveLength(2)\n  })\n\n  test('controlled value & context mismatch', () => {\n    const TestComponent = () => {\n      const [values, setValues] = React.useState<string[] | undefined>(['FOO'])\n      const handleFilter = () => {\n        // Contrived example to test how the component handles \"unexpected\" values\n        // i.e. the values prop is different from the values in context\n        // Tests a bug fix where the input value was getting lost (SELECT_SILENT)\n        setValues([])\n      }\n      return (\n        <SelectMulti\n          values={values}\n          onChange={setValues}\n          options={basicOptions}\n          isFilterable\n          onFilter={handleFilter}\n          placeholder=\"Search\"\n        />\n      )\n    }\n    renderWithTheme(<TestComponent />)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.change(input, { target: { value: 'b' } })\n    expect(input).toHaveValue('b')\n\n    fireEvent.click(document)\n  })\n\n  test('controlled, filterable', () => {\n    const cheeses = [\n      { value: 'Cheddar' },\n      { value: 'Gouda' },\n      { value: 'Swiss' },\n      { value: 'Feta' },\n      { value: 'Mascarpone' },\n      { value: 'Brie' },\n      { value: 'Mozzarella' },\n      { value: 'Cotija' },\n      { value: 'Pepperjack' },\n    ]\n\n    const TestComponent = () => {\n      const [values, setValues] = React.useState<string[] | undefined>([\n        'Cheddar',\n      ])\n      const [term, setTerm] = React.useState('')\n\n      const options = React.useMemo(() => {\n        if (term === '') return cheeses\n        return cheeses.filter(\n          cheese => cheese.value.toUpperCase().indexOf(term.toUpperCase()) > -1\n        )\n      }, [term])\n      return (\n        <SelectMulti\n          values={values}\n          onChange={setValues}\n          options={options}\n          isFilterable\n          onFilter={setTerm}\n          placeholder=\"Search\"\n        />\n      )\n    }\n\n    renderWithTheme(<TestComponent />)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.change(input, { target: { value: 'z' } })\n    // Tests a bug fix with the controlled value behavior where SELECT_SILENT\n    // was incorrectly triggered b/c the context value had '' for label\n    // when the selected option is filtered out (faulty logic in getComboboxText)\n    expect(input).toHaveValue('z')\n\n    fireEvent.click(document)\n  })\n})\n\ndescribe('closeOnSelect', () => {\n  test('false by default', () => {\n    renderWithTheme(<SelectMulti options={basicOptions} placeholder=\"Search\" />)\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n\n    const bar = screen.getByText('Bar')\n\n    expect(screen.getByText('Foo')).toBeVisible()\n    expect(bar).toBeVisible()\n\n    fireEvent.click(bar)\n\n    expect(screen.getByText('Foo')).toBeVisible()\n    expect(screen.getAllByText('Bar')).toHaveLength(2)\n\n    fireEvent.click(document)\n  })\n\n  test('true', () => {\n    renderWithTheme(\n      <SelectMulti options={basicOptions} placeholder=\"Search\" closeOnSelect />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n\n    const bar = screen.getByText('Bar')\n\n    expect(screen.getByText('Foo')).toBeVisible()\n    expect(bar).toBeVisible()\n\n    fireEvent.click(bar)\n    // Bar is now a chip\n    expect(screen.getByText('Bar')).toBeVisible()\n    // list has closed\n    expect(screen.queryByText('Foo')).not.toBeInTheDocument()\n\n    fireEvent.click(document)\n  })\n\n  describe('removeOnBackspace', () => {\n    test('true by default', () => {\n      renderWithTheme(\n        <SelectMulti\n          options={basicOptions}\n          defaultValues={['FOO', 'BAR']}\n          placeholder=\"Search\"\n        />\n      )\n\n      const input = screen.getByPlaceholderText('Search')\n\n      expect(screen.getByText('Foo')).toBeVisible()\n      expect(screen.getByText('Bar')).toBeVisible()\n\n      fireEvent.keyDown(input, {\n        key: 'Backspace',\n      })\n\n      expect(screen.getByText('Foo')).toBeVisible()\n      expect(screen.queryByText('Bar')).not.toBeInTheDocument()\n    })\n\n    test('false', () => {\n      renderWithTheme(\n        <SelectMulti\n          options={basicOptions}\n          defaultValues={['FOO', 'BAR']}\n          placeholder=\"Search\"\n          removeOnBackspace={false}\n        />\n      )\n\n      const input = screen.getByPlaceholderText('Search')\n\n      expect(screen.getByText('Foo')).toBeVisible()\n      expect(screen.getByText('Bar')).toBeVisible()\n\n      fireEvent.keyDown(input, {\n        key: 'Backspace',\n      })\n\n      expect(screen.getByText('Foo')).toBeVisible()\n      expect(screen.queryByText('Bar')).toBeVisible()\n    })\n  })\n\n  describe('freeInput', () => {\n    test('false by default', () => {\n      const onChangeMock = jest.fn()\n      renderWithTheme(\n        <SelectMulti\n          options={basicOptions}\n          defaultValues={['FOO', 'BAR']}\n          placeholder=\"Search\"\n          onChange={onChangeMock}\n        />\n      )\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.change(input, { target: { value: 'baz,qux,' } })\n\n      expect(onChangeMock).not.toHaveBeenCalled()\n      expect(input).toHaveValue('baz,qux,')\n\n      fireEvent.click(document)\n    })\n\n    test('true', () => {\n      const onChangeMock = jest.fn()\n      renderWithTheme(\n        <SelectMulti\n          options={basicOptions}\n          defaultValues={['FOO', 'BAR']}\n          placeholder=\"Search\"\n          onChange={onChangeMock}\n          freeInput\n        />\n      )\n\n      const input = screen.getByPlaceholderText('Search')\n\n      // Whitespace trimmed by default\n      fireEvent.change(input, { target: { value: ' baz , qux,' } })\n\n      expect(onChangeMock).toHaveBeenCalledWith(['FOO', 'BAR', 'baz', 'qux'])\n      expect(input).toHaveValue('')\n\n      fireEvent.click(document)\n    })\n\n    test('formatInputValue false', () => {\n      const onChangeMock = jest.fn()\n      renderWithTheme(\n        <SelectMulti\n          options={basicOptions}\n          defaultValues={['FOO', 'BAR']}\n          placeholder=\"Search\"\n          onChange={onChangeMock}\n          freeInput\n          formatInputValue={false}\n        />\n      )\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.change(input, { target: { value: ' baz , qux,' } })\n\n      expect(onChangeMock).toHaveBeenCalledWith(['FOO', 'BAR', ' baz ', ' qux'])\n      expect(input).toHaveValue('')\n\n      fireEvent.click(document)\n    })\n\n    test('creates value and closes list on blur', async () => {\n      const onChangeMock = jest.fn()\n      renderWithTheme(\n        <>\n          <button>A random button</button>\n          <SelectMulti\n            options={basicOptions}\n            placeholder=\"Search\"\n            onChange={onChangeMock}\n            freeInput\n          />\n        </>\n      )\n\n      const input = screen.getByPlaceholderText('Search')\n      input.focus()\n      fireEvent.change(input, { target: { value: 'baz' } })\n      expect(screen.getByRole('listbox')).toBeVisible()\n      screen.getByText('A random button').focus()\n\n      expect(onChangeMock).toHaveBeenCalledWith(['baz'])\n      expect(input).toHaveValue('')\n\n      expect(screen.queryByRole('listbox')).not.toBeInTheDocument()\n    })\n\n    test('copy/paste', () => {\n      const onChangeMock = jest.fn()\n      renderWithTheme(\n        <SelectMulti\n          options={basicOptions}\n          values={['FOO', 'BAR']}\n          onChange={onChangeMock}\n          placeholder=\"Search\"\n          freeInput\n        />\n      )\n\n      const input = screen.getByPlaceholderText('Search')\n      const hiddenInput = screen.getByTestId('hidden-input')\n\n      fireEvent.keyDown(input, { key: 'a', metaKey: true })\n      // testing the hidden input value b/c jsdom do clipboard\n      expect(hiddenInput).toHaveDisplayValue(\n        '[{\"label\":\"Foo\",\"value\":\"FOO\"},{\"label\":\"Bar\",\"value\":\"BAR\"}]'\n      )\n\n      firePasteEvent(\n        input,\n        '[{\"label\":\"Baz\",\"value\":\"BAZ\"},{\"label\":\"Qux\",\"value\":\"QUX\"}]'\n      )\n      fireEvent.change(input, {\n        target: {\n          value:\n            '[{\"label\":\"Baz\",\"value\":\"BAZ\"},{\"label\":\"Qux\",\"value\":\"QUX\"}]',\n        },\n      })\n      expect(onChangeMock).toHaveBeenCalledWith(['FOO', 'BAR', 'BAZ', 'QUX'])\n    })\n  })\n})\n"],"mappings":"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"}