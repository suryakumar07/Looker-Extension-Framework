{"version":3,"file":"Select.spec.js","names":["options100","Array","from","_","i","value","String","beforeEach","jest","useFakeTimers","afterEach","runOnlyPendingTimers","useRealTimers","runTimers","act","describe","test","renderWithTheme","label","fireEvent","click","screen","getByPlaceholderText","select","getByText","closest","expect","not","toHaveClass","toHaveStyle","focus","mouseDown","mouseUp","blur","document","options","each","onChange","name","getJSX","handleChange","fn","queryByText","toBeInTheDocument","input","toBeVisible","bar","toHaveBeenCalledTimes","onChangeArg","toHaveBeenCalledWith","initialOptions","onFilter","optionsToUse","mockOnFilter","Component","useState","setOptions","handleFilter","term","filter","option","indexOf","getAllByRole","toHaveLength","change","target","items","toHaveAttribute","fireArrowDown","keyDown","key","id","groupedOptions","description","foo","other","desc","dimensions","maxHeight","maxWidth","minWidth","width","jsx","list","getByRole","toHaveStyleRule","GetIndicatorJSX","listLevel","indicator","map","opt","undefined","GetIndicatorJSXMulti","toHaveBeenNthCalledWith","isActive","isSelected","check","queryByTitle","mockClear","detailOptions","detail","noOptions","toHaveBeenCalled","spinner","queryByLabelText","testArray","longOptions","index","slice","inputs","length","rafSpy","spyOn","window","mockImplementation","cb","surface","surfaceInner","firstChild","surfaceInnerFlex","scroll","mouseOver","queryByRole","selected","toHaveTextContent","mockRestore","commonProps","isFilterable","placeholder","showCreate","formatCreateLabel","inputValue","values","setValue","tempValue","setTempValue","useEffect","t","setTimeout","clearTimeout","relatedTarget","toHaveFocus","globalConsole","global","console","warnMock","warn","resetAllMocks","toHaveValue","getByDisplayValue","button","clearButton","getByTestId","querySelector","setLabel","getAllComboboxOptionText","toMatchInlineSnapshot","filterTerm","setFilterTerm","filteredOptions","useMemo","icon","queryByTestId","getAllByTestId","inputIcon","tagName","toBe","mock","calls","preface","fooPreface","barPreface","parentElement","toHaveDisplayValue","customLabelOptions","TestComponent"],"sources":["../../../../../src/Form/Inputs/Select/Select.spec.tsx"],"sourcesContent":["/*\n\n MIT License\n\n Copyright (c) 2022 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport {\n  getAllComboboxOptionText,\n  renderWithTheme,\n} from '@looker/components-test-utils'\nimport { AutoGraph, BarChart } from '@styled-icons/material'\nimport { act, fireEvent, screen } from '@testing-library/react'\nimport React, { useState, useMemo, useEffect } from 'react'\n\nimport { Button } from '../../../Button'\nimport type { ComboboxOptionIndicatorFunction } from '../Combobox'\nimport { Select } from './Select'\nimport { SelectMulti } from './SelectMulti'\nimport type { SelectOptionProps } from './types'\n\nconst options100 = Array.from(Array(100), (_, i) => ({\n  value: String(i + 1),\n}))\n\nbeforeEach(() => {\n  jest.useFakeTimers()\n})\n\nafterEach(() => {\n  jest.runOnlyPendingTimers()\n  jest.useRealTimers()\n})\n\nconst runTimers = () =>\n  act(() => {\n    jest.runOnlyPendingTimers()\n  })\n\ndescribe('Select / SelectMulti', () => {\n  test('ripple effect', () => {\n    renderWithTheme(\n      <Select\n        options={[\n          { label: 'Cheddar', value: 'cheddar' },\n          { label: 'Gouda', value: 'gouda' },\n          { label: 'Swiss', value: 'swiss' },\n        ]}\n        placeholder=\"Select\"\n      ></Select>\n    )\n\n    fireEvent.click(screen.getByPlaceholderText('Select'))\n\n    const select = screen.getByText('Cheddar').closest('li')\n    expect(select).not.toHaveClass('bg-on fg-in')\n    expect(select).toHaveStyle({\n      '--ripple-color': '#71767a',\n      '--ripple-scale-end': '1',\n      '--ripple-scale-start': '0.1',\n      '--ripple-size': '100%',\n      '--ripple-translate': '0, 0',\n    })\n\n    select && fireEvent.focus(select)\n    expect(select).toHaveClass('bg-on')\n\n    select && fireEvent.mouseDown(select)\n    expect(select).toHaveClass('bg-on fg-in')\n\n    // foreground is locked for a minimum time to animate the ripple\n    select && fireEvent.mouseUp(select)\n    runTimers()\n    expect(select).toHaveClass('bg-on fg-out')\n    runTimers()\n    expect(select).toHaveClass('bg-on')\n\n    select && fireEvent.blur(select)\n    expect(select).not.toHaveClass('bg-on fg-in')\n    fireEvent.click(document)\n  })\n\n  const options = [{ value: 'FOO' }, { value: 'BAR' }]\n\n  test.each([\n    [\n      'Select',\n      (onChange: () => void) => (\n        <Select\n          options={options}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (onChange: () => void) => (\n        <SelectMulti\n          options={options}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with options and handleChange (%s)', (name, getJSX) => {\n    const handleChange = jest.fn()\n    renderWithTheme(getJSX(handleChange))\n    expect(screen.queryByText('FOO')).not.toBeInTheDocument()\n    expect(screen.queryByText('BAR')).not.toBeInTheDocument()\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toBeVisible()\n\n    fireEvent.mouseDown(input)\n\n    // const foo = screen.getByText('FOO')\n    const bar = screen.getByText('BAR')\n\n    // Clicking on the options should fire onBlur on the input and\n    // trigger the state transition that allows in an updated input value.\n    // It doesn't, and the following doesn't work to fake it, so we can't test input value.\n    // act(() => {\n    // getAllByRole('option')[0].focus()\n    // input.blur()\n    // })\n    fireEvent.click(bar)\n    // fireEvent.click(foo)\n\n    expect(handleChange).toHaveBeenCalledTimes(1)\n    // expect(handleChange).toHaveBeenCalledWith({ value: 'FOO' })\n    const onChangeArg = name === 'SelectMulti' ? ['BAR'] : 'BAR'\n    expect(handleChange).toHaveBeenCalledWith(onChangeArg)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  // Test long list of options to capture the windowed options issue\n  const initialOptions = [...options100, ...options, { value: 'BAZ' }]\n\n  test.each([\n    [\n      'Select',\n      (onFilter: (term: string) => void, optionsToUse: SelectOptionProps[]) => (\n        <Select\n          options={optionsToUse}\n          placeholder=\"Search\"\n          onFilter={onFilter}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (onFilter: (term: string) => void, optionsToUse: SelectOptionProps[]) => (\n        <SelectMulti\n          options={optionsToUse}\n          placeholder=\"Search\"\n          onFilter={onFilter}\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with onFilter (%s)', (_, getJSX) => {\n    const mockOnFilter = jest.fn()\n\n    function Component() {\n      const [optionsToUse, setOptions] = useState(initialOptions)\n      function handleFilter(term: string) {\n        mockOnFilter(term)\n        setOptions(\n          initialOptions.filter(option => option.value.indexOf(term) > -1)\n        )\n      }\n\n      return getJSX(handleFilter, optionsToUse)\n    }\n\n    renderWithTheme(<Component />)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    // Only 6 options are rendered since jsdom gives the list a height of 0px\n    expect(screen.getAllByRole('option')).toHaveLength(6)\n    expect(screen.getByText('1')).toBeInTheDocument()\n    expect(screen.getByText('6')).toBeInTheDocument()\n\n    fireEvent.change(input, { target: { value: 'BA' } })\n    expect(mockOnFilter).toHaveBeenCalledWith('BA')\n\n    // Verify keyboard nav hasn't been messed up by updating options\n    const items = screen.getAllByRole('option')\n    expect(items).toHaveLength(2)\n    expect(items[0]).toHaveAttribute('aria-selected', 'false')\n    expect(items[1]).toHaveAttribute('aria-selected', 'false')\n\n    const fireArrowDown = () => fireEvent.keyDown(input, { key: 'ArrowDown' })\n    fireArrowDown()\n    expect(items[0]).toHaveAttribute('aria-selected', 'true')\n    expect(items[1]).toHaveAttribute('aria-selected', 'false')\n    expect(input).toHaveAttribute('aria-activedescendant', items[0].id)\n\n    fireArrowDown()\n    expect(items[0]).toHaveAttribute('aria-selected', 'false')\n    expect(items[1]).toHaveAttribute('aria-selected', 'true')\n    expect(input).toHaveAttribute('aria-activedescendant', items[1].id)\n\n    // Back to the top\n    fireArrowDown()\n    expect(items[0]).toHaveAttribute('aria-selected', 'true')\n    expect(items[1]).toHaveAttribute('aria-selected', 'false')\n    expect(input).toHaveAttribute('aria-activedescendant', items[0].id)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  const groupedOptions = [\n    {\n      label: 'FOO',\n      options: [{ value: 'BAR' }, { value: 'BAZ' }],\n    },\n    {\n      label: 'OTHER',\n      options: [\n        { description: 'A description for something', value: 'something' },\n      ],\n    },\n    // label is not required\n    {\n      options: [{ value: 'QUX' }, { value: 'TEST' }],\n    },\n  ]\n\n  test.each([\n    [\n      'Select',\n      (onChange: () => void) => (\n        <Select\n          options={groupedOptions}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (onChange: () => void) => (\n        <SelectMulti\n          options={groupedOptions}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with option descriptions and group labels (%s)', (name, getJSX) => {\n    const handleChange = jest.fn()\n    renderWithTheme(getJSX(handleChange))\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toBeVisible()\n\n    fireEvent.mouseDown(input)\n\n    const foo = screen.getByText('FOO')\n    const other = screen.getByText('OTHER')\n    const desc = screen.getByText('A description for something')\n\n    expect(foo).toBeInTheDocument()\n    expect(other).toBeInTheDocument()\n    expect(desc).toBeInTheDocument()\n\n    // A click on a title shouldn't do anything\n    fireEvent.click(foo)\n    // Description is part of the option so the click triggers change\n    fireEvent.click(desc)\n\n    expect(handleChange).toHaveBeenCalledTimes(1)\n\n    const onChangeArg = name === 'SelectMulti' ? ['something'] : 'something'\n    expect(handleChange).toHaveBeenCalledWith(onChangeArg)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  const dimensions = {\n    maxHeight: 400,\n    maxWidth: 800,\n    minWidth: 300,\n    width: '50vw',\n  }\n\n  test.each([\n    [\n      'Select',\n      <Select\n        options={groupedOptions}\n        placeholder=\"Search\"\n        listLayout={dimensions}\n        key=\"select\"\n      />,\n    ],\n    [\n      'SelectMulti',\n      <SelectMulti\n        options={groupedOptions}\n        placeholder=\"Search\"\n        listLayout={dimensions}\n        key=\"select-multi\"\n      />,\n    ],\n  ])('with listLayout (%s)', (_, jsx) => {\n    renderWithTheme(jsx)\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toBeVisible()\n\n    fireEvent.mouseDown(input)\n\n    const list = screen.getByRole('listbox')\n    expect(list).toHaveStyleRule('max-height', '400px')\n    expect(list).toHaveStyleRule('max-width', '800px')\n    expect(list).toHaveStyleRule('min-width', '300px')\n    expect(list).toHaveStyleRule('width', '50vw')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  /* eslint-disable react/display-name */\n  const GetIndicatorJSX =\n    (listLevel: boolean) => (indicator: ComboboxOptionIndicatorFunction) =>\n      (\n        <Select\n          options={options.map(opt => ({\n            ...opt,\n            ...(listLevel ? {} : { indicator }),\n          }))}\n          value=\"FOO\"\n          placeholder=\"Search\"\n          indicator={listLevel ? indicator : undefined}\n          key=\"select\"\n        />\n      )\n\n  const GetIndicatorJSXMulti =\n    (listLevel: boolean) => (indicator: ComboboxOptionIndicatorFunction) =>\n      (\n        <SelectMulti\n          options={options.map(opt => ({\n            ...opt,\n            ...(listLevel ? {} : { indicator }),\n          }))}\n          values={['FOO']}\n          placeholder=\"Search\"\n          indicator={listLevel ? indicator : undefined}\n          key=\"select-multi\"\n        />\n      )\n  /* eslint-enable react/display-name */\n\n  test.each([\n    ['list level (Select)', GetIndicatorJSX(true)],\n    ['list level (SelectMulti)', GetIndicatorJSXMulti(true)],\n    ['option level (Select)', GetIndicatorJSX(false)],\n    ['option level (SelectMulti)', GetIndicatorJSXMulti(false)],\n  ])('Customize the indicator at the %s', (_, getJSX) => {\n    const indicator = jest.fn()\n    renderWithTheme(getJSX(indicator))\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.click(input)\n\n    expect(indicator).toHaveBeenCalledTimes(2)\n    expect(indicator).toHaveBeenNthCalledWith(1, {\n      // ComboboxList.persistSelection is true for Select/SelectMulti\n      isActive: true,\n      isSelected: true,\n      label: undefined,\n      value: 'FOO',\n    })\n    expect(indicator).toHaveBeenNthCalledWith(2, {\n      isActive: false,\n      isSelected: false,\n      label: undefined,\n      value: 'BAR',\n    })\n\n    const check = screen.queryByTitle('Check')\n    expect(check).not.toBeInTheDocument()\n\n    indicator.mockClear()\n\n    const bar = screen.getByText('BAR')\n    fireEvent.keyDown(bar, {\n      key: 'ArrowDown',\n    })\n\n    expect(indicator).toHaveBeenCalledTimes(2)\n    expect(indicator).toHaveBeenNthCalledWith(1, {\n      // ComboboxList.persistSelection is true for Select/SelectMulti\n      isActive: false,\n      isSelected: true,\n      label: undefined,\n      value: 'FOO',\n    })\n    expect(indicator).toHaveBeenNthCalledWith(2, {\n      isActive: true,\n      isSelected: false,\n      label: undefined,\n      value: 'BAR',\n    })\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  const detailOptions = [{ detail: 'Info about option', value: 'someValue' }]\n  test.each([\n    [\n      'Select',\n      <Select placeholder=\"Search\" options={detailOptions} key=\"select\" />,\n    ],\n    [\n      'SelectMulti',\n      <SelectMulti\n        placeholder=\"Search\"\n        options={detailOptions}\n        key=\"select-multi\"\n      />,\n    ],\n  ])('option detail (%s)', (_, jsx) => {\n    renderWithTheme(jsx)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    expect(screen.getByText('Info about option')).toBeVisible()\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  describe('no options', () => {\n    test.each([\n      [\n        'Select',\n        (onChange: () => void) => (\n          <Select placeholder=\"Search\" onChange={onChange} key=\"select\" />\n        ),\n      ],\n      [\n        'SelectMulti',\n        (onChange: () => void) => (\n          <SelectMulti\n            placeholder=\"Search\"\n            onChange={onChange}\n            key=\"select-multi\"\n          />\n        ),\n      ],\n    ])('label does nothing when clicked (%s)', (_, getJSX) => {\n      const handleChange = jest.fn()\n      renderWithTheme(getJSX(handleChange))\n\n      const input = screen.getByPlaceholderText('Search')\n\n      fireEvent.mouseDown(input)\n\n      const noOptions = screen.getByText('No options')\n      fireEvent.click(noOptions)\n\n      expect(handleChange).not.toHaveBeenCalled()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    const label = 'Your search returned no results'\n    test.each([\n      [\n        'Select',\n        <Select placeholder=\"Search\" noOptionsLabel={label} key=\"select\" />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          placeholder=\"Search\"\n          noOptionsLabel={label}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('custom label text (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      const noOptions = screen.queryByText(label)\n      expect(noOptions).toBeVisible()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n    test.each([\n      ['Select', <Select placeholder=\"Search\" isLoading key=\"select\" />],\n      [\n        'SelectMulti',\n        <SelectMulti placeholder=\"Search\" isLoading key=\"select-multi\" />,\n      ],\n    ])('isLoading (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n\n      fireEvent.mouseDown(input)\n\n      const spinner = screen.queryByLabelText('Loading')\n      expect(spinner).toBeVisible()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n  })\n\n  describe('windowed options', () => {\n    const testArray: Array<\n      [string, (longOptions: SelectOptionProps[]) => JSX.Element]\n    > = [\n      [\n        'Select',\n        longOptions => (\n          <Select placeholder=\"Search\" options={longOptions} key=\"select\" />\n        ),\n      ],\n      [\n        'SelectMulti',\n        longOptions => (\n          <SelectMulti\n            placeholder=\"Search\"\n            options={longOptions}\n            key=\"select-multi\"\n          />\n        ),\n      ],\n    ]\n\n    test.each(testArray)('100 options do not all render (%s)', (_, getJSX) => {\n      const longOptions = Array.from(Array(100), (_, index) => ({\n        value: `${index}`,\n      }))\n      renderWithTheme(getJSX(longOptions))\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      expect(screen.getByText('0')).toBeInTheDocument()\n      expect(screen.getByText('5')).toBeInTheDocument()\n      // js-dom doesn't do layout so only the first option + 5 buffer are rendered\n      expect(screen.queryByText('6')).not.toBeInTheDocument()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    test.each(testArray)(\n      '100 grouped options do not all render (%s)',\n      (_, getJSX) => {\n        const longOptions = Array.from(Array(100), (_, index) => ({\n          value: `${index}`,\n        }))\n        const groupedOptions = [\n          { label: 'First', options: longOptions.slice(0, 4) },\n          { label: 'Second', options: longOptions.slice(4, 20) },\n          { label: 'Third', options: longOptions.slice(20, 99) },\n        ]\n        renderWithTheme(getJSX(groupedOptions))\n\n        const inputs = screen.getAllByRole('textbox')\n        // SelectMulti has a hidden input\n        const input = inputs[inputs.length - 1]\n        fireEvent.mouseDown(input)\n\n        expect(screen.getByText('First')).toBeInTheDocument()\n        expect(screen.getByText('3')).toBeInTheDocument()\n        // js-dom doesn't do layout so only the first divider (hidden), group header\n        // and 4 options are rendered\n        expect(screen.queryByText('4')).not.toBeInTheDocument()\n        // Close popover to silence act() warning\n        fireEvent.click(document)\n      }\n    )\n\n    test.each(testArray)(\n      'Hover navigation is off while scrolling (%s)',\n      (_, getJSX) => {\n        jest.useFakeTimers()\n\n        const rafSpy = jest\n          .spyOn(window, 'requestAnimationFrame')\n          .mockImplementation((cb: any) => cb())\n\n        renderWithTheme(getJSX(options))\n\n        const input = screen.getByPlaceholderText('Search')\n        fireEvent.mouseDown(input)\n\n        // hover will not trigger navigate during & right after scroll\n        const surface = screen.getByRole('dialog')\n        expect(surface).toBeInTheDocument()\n        const surfaceInner = surface && surface.firstChild\n        expect(surfaceInner).toBeInTheDocument()\n        const surfaceInnerFlex = surfaceInner && surfaceInner.firstChild\n        expect(surfaceInnerFlex).toBeInTheDocument()\n        surfaceInnerFlex && fireEvent.scroll(surfaceInnerFlex)\n\n        const bar = screen.getByText('BAR')\n        fireEvent.mouseOver(bar)\n        expect(\n          screen.queryByRole('option', { selected: true })\n        ).not.toBeInTheDocument()\n\n        // hover will trigger navigate after timeout\n        jest.runOnlyPendingTimers()\n\n        fireEvent.mouseOver(bar)\n        expect(\n          screen.queryByRole('option', { selected: true })\n        ).toHaveTextContent('BAR')\n\n        // Close popover to silence act() warning\n        fireEvent.click(document)\n\n        runTimers()\n\n        rafSpy.mockRestore()\n      }\n    )\n\n    test.each(testArray)('99 options all render (%s)', (_, getJSX) => {\n      const longOptions = Array.from(Array(99), (_, index) => ({\n        value: `${index}`,\n      }))\n      renderWithTheme(getJSX(longOptions))\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      expect(screen.getByText('0')).toBeInTheDocument()\n      expect(screen.getByText('98')).toBeInTheDocument()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    const label = 'Your search returned no results'\n    test.each([\n      [\n        'Select',\n        <Select placeholder=\"Search\" noOptionsLabel={label} key=\"select\" />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          placeholder=\"Search\"\n          noOptionsLabel={label}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('custom label text (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      const noOptions = screen.queryByText(label)\n      expect(noOptions).toBeVisible()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n  })\n\n  describe('showCreate', () => {\n    const commonProps = {\n      isFilterable: true,\n      placeholder: 'Search',\n      showCreate: true,\n    }\n    test.each([\n      [\n        'Select',\n        <Select defaultValue=\"test value\" {...commonProps} key=\"select\" />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          defaultValues={['test value']}\n          {...commonProps}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('create option replaces \"No options\" (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'some text' } })\n\n      expect(screen.getByText('Create \"some text\"')).toBeVisible()\n      expect(screen.queryByText('No options')).not.toBeInTheDocument()\n\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'test value' } })\n\n      // create option doesn't show if inputValue is already in current values\n      expect(screen.getByText('No options')).toBeVisible()\n      expect(screen.queryByText('Create \"test value\"')).not.toBeInTheDocument()\n\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: '' } })\n\n      // No options should show if there are no options AND no input value\n      expect(screen.getByText('No options')).toBeVisible()\n      expect(screen.queryByText('Create \"\"')).not.toBeInTheDocument()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    const formatCreateLabel = (inputValue: string) =>\n      `${inputValue} CREATE LABEL`\n    test.each([\n      [\n        'Select',\n        <Select\n          options={options}\n          {...commonProps}\n          formatCreateLabel={formatCreateLabel}\n          key=\"select\"\n        />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          options={options}\n          {...commonProps}\n          formatCreateLabel={formatCreateLabel}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('custom label, checks options (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'some text' } })\n\n      expect(screen.getByText('some text CREATE LABEL')).toBeVisible()\n\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'foo' } })\n\n      // create option doesn't show if inputValue is in options\n      expect(screen.queryByText('foo CREATE LABEL')).not.toBeInTheDocument()\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n  })\n\n  test.each([\n    [\n      'Select',\n      (value: string, onChange: (value: string) => void) => (\n        <Select\n          options={options}\n          placeholder=\"Search\"\n          value={value}\n          onChange={onChange}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (value: string, onChange: (value: string) => void) => (\n        <SelectMulti\n          options={options}\n          placeholder=\"Search\"\n          values={[value]}\n          onChange={(values?: string[]) =>\n            onChange(values && values.length ? values[0] : '')\n          }\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with controlled delayed update (%s)', (_, getJSX) => {\n    function Component() {\n      const [value, setValue] = useState('BAR')\n      const [tempValue, setTempValue] = useState(value)\n      useEffect(() => {\n        const t = setTimeout(() => {\n          setValue(tempValue)\n        }, 0)\n        return () => {\n          clearTimeout(t)\n        }\n      }, [tempValue])\n\n      return getJSX(value, setTempValue)\n    }\n\n    renderWithTheme(<Component />)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    const option = screen.getByText('FOO')\n    fireEvent.blur(input, { relatedTarget: option })\n    fireEvent.click(option)\n\n    expect(input).toHaveFocus()\n\n    runTimers()\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n})\n\ndescribe('Select', () => {\n  const globalConsole = global.console\n  const warnMock = jest.fn()\n\n  beforeEach(() => {\n    global.console = {\n      warn: warnMock,\n    } as unknown as Console\n  })\n\n  afterEach(() => {\n    jest.resetAllMocks()\n    global.console = globalConsole\n  })\n\n  const options = [\n    { label: 'Foo', value: 'FOO' },\n    { label: 'Bar', value: 'BAR' },\n  ]\n\n  test('value', () => {\n    renderWithTheme(\n      <Select\n        options={options}\n        placeholder=\"Search\"\n        value=\"BAR\"\n        onChange={jest.fn()}\n      />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    // should not default to first option\n    expect(input).toHaveValue('Bar')\n    // verify that clear all icon button is not show (isClearable not set)\n    expect(screen.queryByRole('button')).not.toBeInTheDocument()\n  })\n\n  test('clearing the value externally', () => {\n    const Component = () => {\n      const [value, setValue] = useState('FOO')\n      return (\n        <>\n          <Button onClick={() => setValue('')}>Clear</Button>\n          <Select value={value} onChange={setValue} options={options} />\n        </>\n      )\n    }\n    renderWithTheme(<Component />)\n\n    const input = screen.getByDisplayValue('Foo')\n    const button = screen.getByText('Clear')\n\n    fireEvent.click(button)\n    expect(input).not.toHaveValue()\n  })\n\n  test('defaultValue', () => {\n    renderWithTheme(\n      <Select options={options} placeholder=\"Search\" defaultValue=\"BAR\" />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    // should not default to first option\n    expect(input).toHaveValue('Bar')\n  })\n\n  test('isClearable', () => {\n    const handleChange = jest.fn()\n    renderWithTheme(\n      <Select\n        options={options}\n        placeholder=\"Search\"\n        defaultValue=\"BAR\"\n        onChange={handleChange}\n        isClearable\n      />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toHaveValue('Bar')\n\n    const clearButton = screen.getByRole('button')\n    fireEvent.click(clearButton)\n\n    expect(input).not.toHaveValue()\n    expect(handleChange).toHaveBeenCalledWith('')\n  })\n\n  test('placeholder, no defaultValue', () => {\n    const options = [{ value: 'FOO' }, { value: 'BAR' }]\n    renderWithTheme(<Select options={options} placeholder=\"Search\" />)\n\n    const input = screen.getByPlaceholderText('Search')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('isClearable, no defaultValue', () => {\n    renderWithTheme(\n      <Select options={options} isClearable data-testid=\"wrapper\" />\n    )\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('empty string defaultValue', () => {\n    renderWithTheme(\n      <Select options={options} defaultValue=\"\" data-testid=\"wrapper\" />\n    )\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('empty string value', () => {\n    renderWithTheme(<Select options={options} value=\"\" data-testid=\"wrapper\" />)\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('empty string value, empty string option', () => {\n    renderWithTheme(\n      <Select\n        options={[{ label: 'An empty string', value: '' }, ...options]}\n        value=\"\"\n        data-testid=\"wrapper\"\n      />\n    )\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).toHaveValue('An empty string')\n  })\n\n  test('default to first option', () => {\n    renderWithTheme(<Select options={options} data-testid=\"wrapper\" />)\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should default to first option\n    expect(input).toHaveValue('Foo')\n  })\n\n  test('displayed value changes when option label changes', () => {\n    const Component = () => {\n      const [label, setLabel] = useState('Original Label')\n      const options = [\n        { label, value: 'value_stays_the_same' },\n        { label: 'Another Option', value: 'other' },\n      ]\n      return (\n        <>\n          <Button onClick={() => setLabel('Updated label')}>\n            Update label\n          </Button>\n          <Select value=\"value_stays_the_same\" options={options} />\n        </>\n      )\n    }\n    renderWithTheme(<Component />)\n\n    const input = screen.getByDisplayValue('Original Label')\n    fireEvent.click(input)\n    expect(getAllComboboxOptionText()).toMatchInlineSnapshot(`\n      Array [\n        \"Original Label\",\n        \"Another Option\",\n      ]\n    `)\n    // Close list\n    fireEvent.click(document)\n\n    fireEvent.click(screen.getByText('Update label'))\n    expect(input).toHaveValue('Updated label')\n\n    fireEvent.click(input)\n    expect(getAllComboboxOptionText()).toMatchInlineSnapshot(`\n      Array [\n        \"Updated label\",\n        \"Another Option\",\n      ]\n    `)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('filtering out the selected option does not trigger a change', () => {\n    // Tests a bug where as soon as the selected option gets filtered out,\n    // the input value reverts to the current value\n    const Component = () => {\n      const [filterTerm, setFilterTerm] = useState('')\n      const filteredOptions = useMemo(\n        () => options.filter(option => option.label.indexOf(filterTerm) > -1),\n        [filterTerm]\n      )\n      return (\n        <Select\n          value=\"FOO\"\n          options={filteredOptions}\n          isFilterable\n          onFilter={setFilterTerm}\n        />\n      )\n    }\n    renderWithTheme(<Component />)\n\n    const input = screen.getByDisplayValue('Foo')\n    fireEvent.change(input, { target: { value: 'Ba' } })\n    expect(input).toHaveValue('Ba')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('option icons', () => {\n    renderWithTheme(\n      <Select\n        placeholder=\"Select a visualization\"\n        options={[\n          {\n            icon: <AutoGraph data-testid=\"input-icon\" />,\n            label: 'Bar',\n            value: 'bar',\n          },\n          { label: 'No Icon', value: 'noicon' },\n          {\n            icon: <BarChart data-testid=\"input-icon\" />,\n            indicator: 'Test Indicator',\n            label: 'Column',\n            value: 'column',\n          },\n          {\n            icon: <>cool icon</>,\n            label: 'Custom Icon',\n            value: 'custom',\n          },\n        ]}\n      />\n    )\n\n    expect(screen.queryByTestId('input-icon')).not.toBeInTheDocument()\n\n    const input = screen.getByPlaceholderText('Select a visualization')\n    expect(input).toBeInTheDocument()\n    fireEvent.click(input)\n    expect(screen.getAllByTestId('input-icon')).toHaveLength(2)\n    expect(screen.getByTestId('option-icon-placeholder')).toBeInTheDocument()\n\n    fireEvent.click(screen.getByText('Column'))\n    const inputIcon = screen.getByTestId('input-icon')\n    expect(inputIcon.tagName).toBe('svg')\n\n    fireEvent.click(input)\n    fireEvent.click(screen.getByText('Custom Icon'))\n    expect(screen.getByText('cool icon')).toBeInTheDocument()\n\n    // Test icon+indicator warning\n    expect(screen.queryByText('Test Indicator')).not.toBeInTheDocument()\n    expect(warnMock.mock.calls).toMatchInlineSnapshot(`\n      Array [\n        Array [\n          \"Use icon or indicator but not both at the same time.\",\n        ],\n        Array [\n          \"Use icon or indicator but not both at the same time.\",\n        ],\n      ]\n    `)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('option preface', () => {\n    renderWithTheme(\n      <Select\n        placeholder=\"Search\"\n        options={[\n          { label: 'Foo', preface: 'Preface for Foo', value: 'FOO' },\n          {\n            label: 'Bar',\n            preface: (\n              <>\n                <strong>Preface for</strong> Bar\n              </>\n            ),\n            value: 'BAR',\n          },\n        ]}\n      />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.click(input)\n    const fooPreface = screen.getByText('Preface for Foo')\n    const barPreface = screen.getByText('Preface for')\n    expect(fooPreface).toBeVisible()\n    expect(barPreface).toBeVisible()\n    expect(barPreface.parentElement).toHaveTextContent('Preface for Bar')\n\n    fireEvent.click(fooPreface)\n    expect(input).toHaveDisplayValue('Foo')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('filtering after selecting an option where value != label', () => {\n    const customLabelOptions = [\n      { label: 'Foo', value: 'FOO' },\n      { label: 'Bar', value: 'BAR' },\n    ]\n    function TestComponent() {\n      const [filterTerm, setFilterTerm] = useState('')\n      const [value, setValue] = useState('')\n      // Just need to simulate the current option being filtered out\n      const filteredOptions = filterTerm === '' ? customLabelOptions : []\n      return (\n        <Select\n          options={filteredOptions}\n          value={value}\n          onChange={setValue}\n          isFilterable\n          onFilter={setFilterTerm}\n          placeholder=\"Search\"\n        />\n      )\n    }\n\n    renderWithTheme(<TestComponent />)\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.click(input)\n    fireEvent.click(screen.getByText('Foo'))\n    expect(input).toHaveDisplayValue('Foo')\n\n    fireEvent.focus(input)\n    fireEvent.change(input, { target: { value: 'Testing' } })\n    expect(input).toHaveDisplayValue('Testing')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  // Test for the \"No options\" bug\n  test('filtering a windowed list then deleting the filter', () => {\n    function Component() {\n      const [optionsToUse, setOptions] = useState(options100)\n      function handleFilter(term: string) {\n        setOptions(options100.filter(option => option.value.indexOf(term) > -1))\n      }\n      return (\n        <Select\n          options={optionsToUse}\n          placeholder=\"Search\"\n          onFilter={handleFilter}\n          value=\"\"\n        />\n      )\n    }\n\n    renderWithTheme(<Component />)\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    fireEvent.change(input, { target: { value: '90' } })\n    // Must delete filter before navigating for bug to show up\n    fireEvent.change(input, { target: { value: '' } })\n    expect(screen.queryByText('No options')).not.toBeInTheDocument()\n\n    fireEvent.click(document)\n  })\n})\n"],"mappings":"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"}