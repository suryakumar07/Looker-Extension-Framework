{"version":3,"file":"FieldToggleSwitch.spec.js","names":["composeStories","stories","RichDetailDescription","describe","test","errorMessage","renderWithTheme","message","type","container","input","screen","getByDisplayValue","id","getAttribute","expect","toBeDefined","toEqual","toHaveTextContent","getByLabelText","toBeDisabled","getByTestId","toBeVisible","getByRole","detail","link","getByText","userEvent","tab","toHaveFocus"],"sources":["../../../../../src/Form/Fields/FieldToggleSwitch/FieldToggleSwitch.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport 'jest-styled-components'\nimport React from 'react'\nimport { composeStories } from '@storybook/testing-react'\nimport userEvent from '@testing-library/user-event'\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { screen } from '@testing-library/react'\nimport { FieldToggleSwitch } from './FieldToggleSwitch'\nimport * as stories from './stories/index.stories'\n\nconst { RichDetailDescription } = composeStories(stories)\n\ndescribe('FieldToggleSwitch', () => {\n  test('error has proper aria setup', () => {\n    const errorMessage = 'This is an error'\n\n    const { container } = renderWithTheme(\n      <FieldToggleSwitch\n        id=\"test\"\n        defaultValue=\"example\"\n        validationMessage={{ message: errorMessage, type: 'error' }}\n      />\n    )\n\n    const input = screen.getByDisplayValue('example')\n    const id = input.getAttribute('aria-describedby')\n    expect(id).toBeDefined()\n    expect(id).toEqual('describedby-test')\n    expect(container).toHaveTextContent(errorMessage)\n  })\n\n  test('disabled', () => {\n    renderWithTheme(\n      <FieldToggleSwitch\n        disabled\n        id=\"FieldToggleSwitchID\"\n        label=\"Toggle Switch\"\n      />\n    )\n\n    expect(screen.getByLabelText('Toggle Switch')).toBeDisabled()\n  })\n\n  test('required', () => {\n    renderWithTheme(\n      <FieldToggleSwitch\n        id=\"FieldToggleSwitchID\"\n        label=\"Toggle Switch\"\n        required\n      />\n    )\n\n    expect(screen.getByTestId('requiredStar')).toBeVisible()\n  })\n\n  test('tabStops', () => {\n    renderWithTheme(<RichDetailDescription />)\n\n    const input = screen.getByRole('switch')\n    const detail = screen.getByRole('button')\n    const link = screen.getByText('Link')\n\n    userEvent.tab()\n    expect(input).toHaveFocus()\n    userEvent.tab()\n    expect(detail).toHaveFocus()\n    userEvent.tab()\n    expect(link).toHaveFocus()\n  })\n})\n"],"mappings":";;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAkD;AAAA;;AAElD,sBAAkC,IAAAA,4BAAc,EAACC,OAAO,CAAC;EAAjDC,qBAAqB,mBAArBA,qBAAqB;AAE7BC,QAAQ,CAAC,mBAAmB,EAAE,YAAM;EAClCC,IAAI,CAAC,6BAA6B,EAAE,YAAM;IACxC,IAAMC,YAAY,GAAG,kBAAkB;IAEvC,uBAAsB,IAAAC,oCAAe,EACnC,gCAAC,oCAAiB;QAChB,EAAE,EAAC,MAAM;QACT,YAAY,EAAC,SAAS;QACtB,iBAAiB,EAAE;UAAEC,OAAO,EAAEF,YAAY;UAAEG,IAAI,EAAE;QAAQ;MAAE,EAC5D,CACH;MANOC,SAAS,oBAATA,SAAS;IAQjB,IAAMC,KAAK,GAAGC,cAAM,CAACC,iBAAiB,CAAC,SAAS,CAAC;IACjD,IAAMC,EAAE,GAAGH,KAAK,CAACI,YAAY,CAAC,kBAAkB,CAAC;IACjDC,MAAM,CAACF,EAAE,CAAC,CAACG,WAAW,EAAE;IACxBD,MAAM,CAACF,EAAE,CAAC,CAACI,OAAO,CAAC,kBAAkB,CAAC;IACtCF,MAAM,CAACN,SAAS,CAAC,CAACS,iBAAiB,CAACb,YAAY,CAAC;EACnD,CAAC,CAAC;EAEFD,IAAI,CAAC,UAAU,EAAE,YAAM;IACrB,IAAAE,oCAAe,EACb,gCAAC,oCAAiB;MAChB,QAAQ;MACR,EAAE,EAAC,qBAAqB;MACxB,KAAK,EAAC;IAAe,EACrB,CACH;IAEDS,MAAM,CAACJ,cAAM,CAACQ,cAAc,CAAC,eAAe,CAAC,CAAC,CAACC,YAAY,EAAE;EAC/D,CAAC,CAAC;EAEFhB,IAAI,CAAC,UAAU,EAAE,YAAM;IACrB,IAAAE,oCAAe,EACb,gCAAC,oCAAiB;MAChB,EAAE,EAAC,qBAAqB;MACxB,KAAK,EAAC,eAAe;MACrB,QAAQ;IAAA,EACR,CACH;IAEDS,MAAM,CAACJ,cAAM,CAACU,WAAW,CAAC,cAAc,CAAC,CAAC,CAACC,WAAW,EAAE;EAC1D,CAAC,CAAC;EAEFlB,IAAI,CAAC,UAAU,EAAE,YAAM;IACrB,IAAAE,oCAAe,EAAC,gCAAC,qBAAqB,OAAG,CAAC;IAE1C,IAAMI,KAAK,GAAGC,cAAM,CAACY,SAAS,CAAC,QAAQ,CAAC;IACxC,IAAMC,MAAM,GAAGb,cAAM,CAACY,SAAS,CAAC,QAAQ,CAAC;IACzC,IAAME,IAAI,GAAGd,cAAM,CAACe,SAAS,CAAC,MAAM,CAAC;IAErCC,qBAAS,CAACC,GAAG,EAAE;IACfb,MAAM,CAACL,KAAK,CAAC,CAACmB,WAAW,EAAE;IAC3BF,qBAAS,CAACC,GAAG,EAAE;IACfb,MAAM,CAACS,MAAM,CAAC,CAACK,WAAW,EAAE;IAC5BF,qBAAS,CAACC,GAAG,EAAE;IACfb,MAAM,CAACU,IAAI,CAAC,CAACI,WAAW,EAAE;EAC5B,CAAC,CAAC;AACJ,CAAC,CAAC"}