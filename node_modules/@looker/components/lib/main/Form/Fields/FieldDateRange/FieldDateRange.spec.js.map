{"version":3,"file":"FieldDateRange.spec.js","names":["realDateNow","Date","now","bind","global","beforeEach","jest","fn","afterEach","clearAllMocks","mockProps","id","onChange","onValidationFail","value","from","to","describe","test","renderWithTheme","expect","screen","getAllByLabelText","length","toEqual","input","getAllByRole","toBeDisabled","getByText","toBeVisible","errorMessage","message","type"],"sources":["../../../../../src/Form/Fields/FieldDateRange/FieldDateRange.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport 'jest-styled-components'\nimport React from 'react'\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { screen } from '@testing-library/react'\nimport { FieldDateRange } from './FieldDateRange'\n\nconst realDateNow = Date.now.bind(global.Date)\n\nbeforeEach(() => {\n  /* eslint-disable-next-line @typescript-eslint/unbound-method */\n  global.Date.now = jest.fn(() => 1580567580000)\n})\n\nafterEach(() => {\n  /* eslint-disable-next-line @typescript-eslint/unbound-method */\n  global.Date.now = realDateNow\n  jest.clearAllMocks()\n})\n\nconst mockProps = {\n  id: 'FieldDateRangeID',\n  onChange: jest.fn(),\n  onValidationFail: jest.fn(),\n  value: {\n    from: new Date('June 3, 2019'),\n    to: new Date('June 9, 2019'),\n  },\n}\n\ndescribe('FieldDateRange ', () => {\n  test('renders and displays label', () => {\n    renderWithTheme(<FieldDateRange {...mockProps} label=\"Test Label\" />)\n\n    expect(screen.getAllByLabelText('Test Label').length).toEqual(2)\n  })\n\n  test('should accept a disabled prop', () => {\n    renderWithTheme(\n      <FieldDateRange {...mockProps} disabled label=\"Disabled Label\" />\n    )\n\n    const input = screen.getAllByRole('textbox')\n    expect(input[0]).toBeDisabled()\n    expect(input[1]).toBeDisabled()\n  })\n\n  test('should accept required attributes', () => {\n    renderWithTheme(\n      <FieldDateRange {...mockProps} label=\"Required Label\" required />\n    )\n    expect(screen.getByText('required')).toBeVisible()\n  })\n\n  test('should display error message', () => {\n    const errorMessage = 'This is an error'\n\n    renderWithTheme(\n      <FieldDateRange\n        {...mockProps}\n        label=\"Validation Label\"\n        validationMessage={{ message: errorMessage, type: 'error' }}\n      />\n    )\n\n    expect(screen.getByText('This is an error')).toBeVisible()\n  })\n})\n"],"mappings":";;;;AAKA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,WAAW,GAAGC,IAAI,CAACC,GAAG,CAACC,IAAI,CAACC,MAAM,CAACH,IAAI,CAAC;AAE9CI,UAAU,CAAC,YAAM;EAEfD,MAAM,CAACH,IAAI,CAACC,GAAG,GAAGI,IAAI,CAACC,EAAE,CAAC;IAAA,OAAM,aAAa;EAAA,EAAC;AAChD,CAAC,CAAC;AAEFC,SAAS,CAAC,YAAM;EAEdJ,MAAM,CAACH,IAAI,CAACC,GAAG,GAAGF,WAAW;EAC7BM,IAAI,CAACG,aAAa,EAAE;AACtB,CAAC,CAAC;AAEF,IAAMC,SAAS,GAAG;EAChBC,EAAE,EAAE,kBAAkB;EACtBC,QAAQ,EAAEN,IAAI,CAACC,EAAE,EAAE;EACnBM,gBAAgB,EAAEP,IAAI,CAACC,EAAE,EAAE;EAC3BO,KAAK,EAAE;IACLC,IAAI,EAAE,IAAId,IAAI,CAAC,cAAc,CAAC;IAC9Be,EAAE,EAAE,IAAIf,IAAI,CAAC,cAAc;EAC7B;AACF,CAAC;AAEDgB,QAAQ,CAAC,iBAAiB,EAAE,YAAM;EAChCC,IAAI,CAAC,4BAA4B,EAAE,YAAM;IACvC,IAAAC,oCAAe,EAAC,gCAAC,8BAAc,gCAAKT,SAAS;MAAE,KAAK,EAAC;IAAY,GAAG,CAAC;IAErEU,MAAM,CAACC,cAAM,CAACC,iBAAiB,CAAC,YAAY,CAAC,CAACC,MAAM,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;EAClE,CAAC,CAAC;EAEFN,IAAI,CAAC,+BAA+B,EAAE,YAAM;IAC1C,IAAAC,oCAAe,EACb,gCAAC,8BAAc,gCAAKT,SAAS;MAAE,QAAQ;MAAC,KAAK,EAAC;IAAgB,GAAG,CAClE;IAED,IAAMe,KAAK,GAAGJ,cAAM,CAACK,YAAY,CAAC,SAAS,CAAC;IAC5CN,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC,CAAC,CAACE,YAAY,EAAE;IAC/BP,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC,CAAC,CAACE,YAAY,EAAE;EACjC,CAAC,CAAC;EAEFT,IAAI,CAAC,mCAAmC,EAAE,YAAM;IAC9C,IAAAC,oCAAe,EACb,gCAAC,8BAAc,gCAAKT,SAAS;MAAE,KAAK,EAAC,gBAAgB;MAAC,QAAQ;IAAA,GAAG,CAClE;IACDU,MAAM,CAACC,cAAM,CAACO,SAAS,CAAC,UAAU,CAAC,CAAC,CAACC,WAAW,EAAE;EACpD,CAAC,CAAC;EAEFX,IAAI,CAAC,8BAA8B,EAAE,YAAM;IACzC,IAAMY,YAAY,GAAG,kBAAkB;IAEvC,IAAAX,oCAAe,EACb,gCAAC,8BAAc,gCACTT,SAAS;MACb,KAAK,EAAC,kBAAkB;MACxB,iBAAiB,EAAE;QAAEqB,OAAO,EAAED,YAAY;QAAEE,IAAI,EAAE;MAAQ;IAAE,GAC5D,CACH;IAEDZ,MAAM,CAACC,cAAM,CAACO,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAACC,WAAW,EAAE;EAC5D,CAAC,CAAC;AACJ,CAAC,CAAC"}