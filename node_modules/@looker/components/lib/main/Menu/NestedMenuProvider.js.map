{"version":3,"file":"NestedMenuProvider.js","names":["nestedMenuContext","change","undefined","delayChange","value","waitChange","NestedMenuContext","createContext","NestedMenuProvider","children","closeParentMenu","delayedStateProps","useDelayedState","useContext","closeGrandparentMenu","wrappedCloseParentMenu","useCallback"],"sources":["../../../src/Menu/NestedMenuProvider.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport React, { createContext, useCallback, useContext } from 'react'\nimport type { ReactNode } from 'react'\nimport type { UseDelayedStateReturn } from '../utils'\nimport { useDelayedState } from '../utils'\n\nexport type CloseParentMenuProps = {\n  closeParentMenu?: () => void\n}\n\nexport type NestedMenuContextProps = UseDelayedStateReturn<string> &\n  CloseParentMenuProps\n\nconst nestedMenuContext: NestedMenuContextProps = {\n  change: () => undefined,\n  delayChange: () => undefined,\n  value: '',\n  waitChange: () => undefined,\n}\n\nexport const NestedMenuContext = createContext(nestedMenuContext)\n\n// Stores the id for the current nestedMenu to prevent them\n// from competing with each other (e.g. from hover vs arrow key)\nexport const NestedMenuProvider = ({\n  children,\n  closeParentMenu,\n}: CloseParentMenuProps & { children?: ReactNode }) => {\n  const delayedStateProps = useDelayedState<string>('')\n  const { closeParentMenu: closeGrandparentMenu } =\n    useContext(NestedMenuContext)\n\n  const wrappedCloseParentMenu = useCallback(() => {\n    // Close the grandparent menu, if there is one\n    closeGrandparentMenu?.()\n    closeParentMenu?.()\n  }, [closeGrandparentMenu, closeParentMenu])\n\n  return (\n    <NestedMenuContext.Provider\n      value={{ ...delayedStateProps, closeParentMenu: wrappedCloseParentMenu }}\n    >\n      {children}\n    </NestedMenuContext.Provider>\n  )\n}\n"],"mappings":";;;;;;;;;AAKA;AAGA;AAA0C;AAAA;AAAA;AAAA;AAS1C,IAAMA,iBAAyC,GAAG;EAChDC,MAAM,EAAE;IAAA,OAAMC,SAAS;EAAA;EACvBC,WAAW,EAAE;IAAA,OAAMD,SAAS;EAAA;EAC5BE,KAAK,EAAE,EAAE;EACTC,UAAU,EAAE;IAAA,OAAMH,SAAS;EAAA;AAC7B,CAAC;AAEM,IAAMI,iBAAiB,GAAG,IAAAC,oBAAa,EAACP,iBAAiB,CAAC;;AAAA;AAI1D,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAkB,OAGwB;EAAA,IAFrDC,QAAQ,QAARA,QAAQ;IACRC,eAAe,QAAfA,eAAe;EAEf,IAAMC,iBAAiB,GAAG,IAAAC,sBAAe,EAAS,EAAE,CAAC;EACrD,kBACE,IAAAC,iBAAU,EAACP,iBAAiB,CAAC;IADNQ,oBAAoB,eAArCJ,eAAe;EAGvB,IAAMK,sBAAsB,GAAG,IAAAC,kBAAW,EAAC,YAAM;IAE/CF,oBAAoB,aAApBA,oBAAoB,uBAApBA,oBAAoB,EAAI;IACxBJ,eAAe,aAAfA,eAAe,uBAAfA,eAAe,EAAI;EACrB,CAAC,EAAE,CAACI,oBAAoB,EAAEJ,eAAe,CAAC,CAAC;EAE3C,OACE,gCAAC,iBAAiB,CAAC,QAAQ;IACzB,KAAK,kCAAOC,iBAAiB;MAAED,eAAe,EAAEK;IAAsB;EAAG,GAExEN,QAAQ,CACkB;AAEjC,CAAC;AAAA"}