{"version":3,"file":"MenuHeading.hooks.js","names":["useElementVisibility","useCallbackRef","element","ref","useState","isVisible","setIsVisible","useEffect","observer","IntersectionObserver","entry","intersectionRatio","threshold","observe","unobserve"],"sources":["../../../src/Menu/MenuHeading.hooks.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { useEffect, useState } from 'react'\nimport { useCallbackRef } from '../utils'\n\nexport const useElementVisibility = (): [\n  boolean,\n  (node: HTMLElement | null) => void\n] => {\n  const [element, ref] = useCallbackRef()\n  const [isVisible, setIsVisible] = useState(true)\n\n  useEffect(() => {\n    const observer =\n      typeof IntersectionObserver === 'undefined'\n        ? null\n        : new IntersectionObserver(\n            ([entry]) => {\n              setIsVisible(entry.intersectionRatio > 0)\n            },\n            {\n              threshold: [0, 1],\n            }\n          )\n\n    if (element && observer) {\n      observer.observe && observer.observe(element)\n    }\n    return () => {\n      if (element && observer) {\n        observer.unobserve && observer.unobserve(element)\n      }\n    }\n  }, [element])\n\n  return [isVisible, ref]\n}\n"],"mappings":";;;;;;;;AAKA;AACA;;AAEO,IAAMA,oBAAoB,GAAG,SAAvBA,oBAAoB,GAG5B;EACH,sBAAuB,IAAAC,qBAAc,GAAE;IAAA;IAAhCC,OAAO;IAAEC,GAAG;EACnB,gBAAkC,IAAAC,eAAQ,EAAC,IAAI,CAAC;IAAA;IAAzCC,SAAS;IAAEC,YAAY;EAE9B,IAAAC,gBAAS,EAAC,YAAM;IACd,IAAMC,QAAQ,GACZ,OAAOC,oBAAoB,KAAK,WAAW,GACvC,IAAI,GACJ,IAAIA,oBAAoB,CACtB,gBAAa;MAAA;QAAXC,KAAK;MACLJ,YAAY,CAACI,KAAK,CAACC,iBAAiB,GAAG,CAAC,CAAC;IAC3C,CAAC,EACD;MACEC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;IAClB,CAAC,CACF;IAEP,IAAIV,OAAO,IAAIM,QAAQ,EAAE;MACvBA,QAAQ,CAACK,OAAO,IAAIL,QAAQ,CAACK,OAAO,CAACX,OAAO,CAAC;IAC/C;IACA,OAAO,YAAM;MACX,IAAIA,OAAO,IAAIM,QAAQ,EAAE;QACvBA,QAAQ,CAACM,SAAS,IAAIN,QAAQ,CAACM,SAAS,CAACZ,OAAO,CAAC;MACnD;IACF,CAAC;EACH,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,OAAO,CAACG,SAAS,EAAEF,GAAG,CAAC;AACzB,CAAC;AAAA"}