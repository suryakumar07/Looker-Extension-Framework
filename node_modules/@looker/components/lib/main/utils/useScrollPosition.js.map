{"version":3,"file":"useScrollPosition.js","names":["useScrollPosition","element","useState","scrollPosition","setScrollPosition","useEffect","scrollListener","throttle","scrollTop","leading","trailing","addEventListener","removeEventListener"],"sources":["../../../src/utils/useScrollPosition.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport throttle from 'lodash/throttle'\nimport { useEffect, useState } from 'react'\n\n/**\n * Returns the scroll top position of an element\n * @param element the element that is being scrolled\n */\nexport const useScrollPosition = (element: HTMLElement | null) => {\n  const [scrollPosition, setScrollPosition] = useState(0)\n  useEffect(() => {\n    const scrollListener = throttle(\n      () => {\n        if (element) {\n          setScrollPosition(element.scrollTop)\n        }\n      },\n      50,\n      { leading: true, trailing: true }\n    )\n\n    if (element) {\n      element.addEventListener('scroll', scrollListener)\n      scrollListener()\n    }\n\n    return () => {\n      element && element.removeEventListener('scroll', scrollListener)\n      setScrollPosition(0)\n    }\n  }, [element])\n\n  return scrollPosition\n}\n"],"mappings":";;;;;;;;AAKA;AACA;;AAMO,IAAMA,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIC,OAA2B,EAAK;EAChE,gBAA4C,IAAAC,eAAQ,EAAC,CAAC,CAAC;IAAA;IAAhDC,cAAc;IAAEC,iBAAiB;EACxC,IAAAC,gBAAS,EAAC,YAAM;IACd,IAAMC,cAAc,GAAG,IAAAC,oBAAQ,EAC7B,YAAM;MACJ,IAAIN,OAAO,EAAE;QACXG,iBAAiB,CAACH,OAAO,CAACO,SAAS,CAAC;MACtC;IACF,CAAC,EACD,EAAE,EACF;MAAEC,OAAO,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAK,CAAC,CAClC;IAED,IAAIT,OAAO,EAAE;MACXA,OAAO,CAACU,gBAAgB,CAAC,QAAQ,EAAEL,cAAc,CAAC;MAClDA,cAAc,EAAE;IAClB;IAEA,OAAO,YAAM;MACXL,OAAO,IAAIA,OAAO,CAACW,mBAAmB,CAAC,QAAQ,EAAEN,cAAc,CAAC;MAChEF,iBAAiB,CAAC,CAAC,CAAC;IACtB,CAAC;EACH,CAAC,EAAE,CAACH,OAAO,CAAC,CAAC;EAEb,OAAOE,cAAc;AACvB,CAAC;AAAA"}