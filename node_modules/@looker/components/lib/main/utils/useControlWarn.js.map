{"version":3,"file":"useControlWarn.js","names":["un","cont","warnComponentControl","componentName","controllingProps","propsText","slice","join","check","changingToControlled","from","to","warning","console","warn","useControlWarn","isControlledCheck","name","useRef","isControlled","current","bgWarn"],"sources":["../../../src/utils/useControlWarn.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { useRef } from 'react'\n\nconst un = 'uncontrolled'\nconst cont = 'controlled'\n\nfunction warnComponentControl(\n  componentName: string,\n  controllingProps: string[]\n) {\n  const propsText =\n    controllingProps.slice(0, -1).join(',') +\n    ' and ' +\n    controllingProps.slice(-1)\n  const check = `Check the ${propsText} being passed in.`\n  return (changingToControlled: boolean) => {\n    const from = changingToControlled ? un : cont\n    const to = changingToControlled ? cont : un\n    const warning = `${componentName} is changing from ${from} to ${to}. \\\n      ${componentName} should not switch from ${from} to ${to} (or vice versa). \\\n      Decide between using a ${cont} or ${un} ${componentName} for the \\\n      lifetime of the component. `\n    // eslint-disable-next-line no-console\n    console.warn(`${warning} ${check}`)\n  }\n}\n\nexport interface UseControlWarnProps {\n  isControlledCheck: () => boolean\n  name: string\n  controllingProps: string[]\n}\n\nexport function useControlWarn({\n  isControlledCheck,\n  name,\n  controllingProps,\n}: UseControlWarnProps) {\n  const { current: isControlled } = useRef(isControlledCheck())\n  const bgWarn = warnComponentControl(name, controllingProps)\n\n  if (isControlled && !isControlledCheck()) {\n    bgWarn(false)\n  }\n\n  if (!isControlled && isControlledCheck()) {\n    bgWarn(true)\n  }\n\n  return isControlled\n}\n"],"mappings":";;;;;;AAKA;;AAEA,IAAMA,EAAE,GAAG,cAAc;AACzB,IAAMC,IAAI,GAAG,YAAY;AAEzB,SAASC,oBAAoB,CAC3BC,aAAqB,EACrBC,gBAA0B,EAC1B;EACA,IAAMC,SAAS,GACbD,gBAAgB,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,GACvC,OAAO,GACPH,gBAAgB,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC;EAC5B,IAAME,KAAK,uBAAgBH,SAAS,sBAAmB;EACvD,OAAO,UAACI,oBAA6B,EAAK;IACxC,IAAMC,IAAI,GAAGD,oBAAoB,GAAGT,EAAE,GAAGC,IAAI;IAC7C,IAAMU,EAAE,GAAGF,oBAAoB,GAAGR,IAAI,GAAGD,EAAE;IAC3C,IAAMY,OAAO,aAAMT,aAAa,+BAAqBO,IAAI,iBAAOC,EAAE,qBAC9DR,aAAa,qCAA2BO,IAAI,iBAAOC,EAAE,4DAC9BV,IAAI,iBAAOD,EAAE,cAAIG,aAAa,+CAC3B;IAE9BU,OAAO,CAACC,IAAI,WAAIF,OAAO,cAAIJ,KAAK,EAAG;EACrC,CAAC;AACH;AAQO,SAASO,cAAc,OAIN;EAAA,IAHtBC,iBAAiB,QAAjBA,iBAAiB;IACjBC,IAAI,QAAJA,IAAI;IACJb,gBAAgB,QAAhBA,gBAAgB;EAEhB,cAAkC,IAAAc,aAAM,EAACF,iBAAiB,EAAE,CAAC;IAA5CG,YAAY,WAArBC,OAAO;EACf,IAAMC,MAAM,GAAGnB,oBAAoB,CAACe,IAAI,EAAEb,gBAAgB,CAAC;EAE3D,IAAIe,YAAY,IAAI,CAACH,iBAAiB,EAAE,EAAE;IACxCK,MAAM,CAAC,KAAK,CAAC;EACf;EAEA,IAAI,CAACF,YAAY,IAAIH,iBAAiB,EAAE,EAAE;IACxCK,MAAM,CAAC,IAAI,CAAC;EACd;EAEA,OAAOF,YAAY;AACrB"}