{"version":3,"file":"useHovered.spec.js","names":["HoveredComponent","hoverRef","useRef","useHovered","isHovered","describe","beforeEach","jest","useFakeTimers","afterEach","useRealTimers","runTimers","act","runOnlyPendingTimers","it","render","expect","screen","queryByText","not","toBeInTheDocument","hoverMe","getByText","fireEvent","mouseEnter","toBeVisible","mouseLeave","focus","button","blur"],"sources":["../../../src/utils/useHovered.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { act, fireEvent, render, screen } from '@testing-library/react'\nimport React, { useRef } from 'react'\nimport { useHovered } from './useHovered'\n\nconst HoveredComponent = () => {\n  const hoverRef = useRef<HTMLDivElement>(null)\n  const [isHovered] = useHovered(hoverRef)\n  return (\n    <div ref={hoverRef} tabIndex={0}>\n      hover me\n      {isHovered && <button>button</button>}\n    </div>\n  )\n}\n\ndescribe('useHovered', () => {\n  beforeEach(() => {\n    jest.useFakeTimers()\n  })\n\n  afterEach(() => {\n    jest.useRealTimers()\n  })\n\n  const runTimers = () =>\n    act(() => {\n      jest.runOnlyPendingTimers()\n    })\n\n  it('toggles on hover', () => {\n    render(<HoveredComponent />)\n    expect(screen.queryByText('button')).not.toBeInTheDocument()\n\n    const hoverMe = screen.getByText('hover me')\n    fireEvent.mouseEnter(hoverMe)\n    expect(screen.getByText('button')).toBeVisible()\n    fireEvent.mouseLeave(hoverMe)\n    runTimers()\n    expect(screen.queryByText('button')).not.toBeInTheDocument()\n  })\n\n  it('toggles on focus', () => {\n    render(<HoveredComponent />)\n    expect(screen.queryByText('button')).not.toBeInTheDocument()\n\n    const hoverMe = screen.getByText('hover me')\n    fireEvent.focus(hoverMe)\n\n    const button = screen.getByText('button')\n    expect(button).toBeVisible()\n    fireEvent.focus(button)\n\n    // With the button focused, hovering in & out should have no effect\n    fireEvent.mouseEnter(hoverMe)\n    expect(button).toBeVisible()\n    fireEvent.mouseLeave(hoverMe)\n    expect(button).toBeVisible()\n\n    fireEvent.blur(button)\n    runTimers()\n    expect(screen.queryByText('button')).not.toBeInTheDocument()\n  })\n})\n"],"mappings":";;;;;AAKA;AACA;AACA;AAAyC;AAAA;;AAEzC,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAgB,GAAS;EAC7B,IAAMC,QAAQ,GAAG,IAAAC,cAAM,EAAiB,IAAI,CAAC;EAC7C,kBAAoB,IAAAC,uBAAU,EAACF,QAAQ,CAAC;IAAA;IAAjCG,SAAS;EAChB,OACE;IAAK,GAAG,EAAEH,QAAS;IAAC,QAAQ,EAAE;EAAE,eAE7BG,SAAS,IAAI,0DAAuB,CACjC;AAEV,CAAC;AAEDC,QAAQ,CAAC,YAAY,EAAE,YAAM;EAC3BC,UAAU,CAAC,YAAM;IACfC,IAAI,CAACC,aAAa,EAAE;EACtB,CAAC,CAAC;EAEFC,SAAS,CAAC,YAAM;IACdF,IAAI,CAACG,aAAa,EAAE;EACtB,CAAC,CAAC;EAEF,IAAMC,SAAS,GAAG,SAAZA,SAAS;IAAA,OACb,IAAAC,UAAG,EAAC,YAAM;MACRL,IAAI,CAACM,oBAAoB,EAAE;IAC7B,CAAC,CAAC;EAAA;EAEJC,EAAE,CAAC,kBAAkB,EAAE,YAAM;IAC3B,IAAAC,aAAM,EAAC,iCAAC,gBAAgB,OAAG,CAAC;IAC5BC,MAAM,CAACC,aAAM,CAACC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAACC,iBAAiB,EAAE;IAE5D,IAAMC,OAAO,GAAGJ,aAAM,CAACK,SAAS,CAAC,UAAU,CAAC;IAC5CC,gBAAS,CAACC,UAAU,CAACH,OAAO,CAAC;IAC7BL,MAAM,CAACC,aAAM,CAACK,SAAS,CAAC,QAAQ,CAAC,CAAC,CAACG,WAAW,EAAE;IAChDF,gBAAS,CAACG,UAAU,CAACL,OAAO,CAAC;IAC7BV,SAAS,EAAE;IACXK,MAAM,CAACC,aAAM,CAACC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAACC,iBAAiB,EAAE;EAC9D,CAAC,CAAC;EAEFN,EAAE,CAAC,kBAAkB,EAAE,YAAM;IAC3B,IAAAC,aAAM,EAAC,iCAAC,gBAAgB,OAAG,CAAC;IAC5BC,MAAM,CAACC,aAAM,CAACC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAACC,iBAAiB,EAAE;IAE5D,IAAMC,OAAO,GAAGJ,aAAM,CAACK,SAAS,CAAC,UAAU,CAAC;IAC5CC,gBAAS,CAACI,KAAK,CAACN,OAAO,CAAC;IAExB,IAAMO,MAAM,GAAGX,aAAM,CAACK,SAAS,CAAC,QAAQ,CAAC;IACzCN,MAAM,CAACY,MAAM,CAAC,CAACH,WAAW,EAAE;IAC5BF,gBAAS,CAACI,KAAK,CAACC,MAAM,CAAC;;IAGvBL,gBAAS,CAACC,UAAU,CAACH,OAAO,CAAC;IAC7BL,MAAM,CAACY,MAAM,CAAC,CAACH,WAAW,EAAE;IAC5BF,gBAAS,CAACG,UAAU,CAACL,OAAO,CAAC;IAC7BL,MAAM,CAACY,MAAM,CAAC,CAACH,WAAW,EAAE;IAE5BF,gBAAS,CAACM,IAAI,CAACD,MAAM,CAAC;IACtBjB,SAAS,EAAE;IACXK,MAAM,CAACC,aAAM,CAACC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAACC,iBAAiB,EAAE;EAC9D,CAAC,CAAC;AACJ,CAAC,CAAC"}