{"version":3,"file":"getWindowedListBoundaries.js","names":["initialResult","afterHeight","beforeHeight","end","start","getWindowedListBoundaries","buffer","height","scrollPosition","enabled","itemCount","itemHeight","undefined","top","Math","floor","bottom","ceil","afterLength"],"sources":["../../../src/utils/getWindowedListBoundaries.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nexport interface GetWindowedListBoundaryProps {\n  /**\n   * If false, the start and end values will be the entire list length\n   * @default true\n   */\n  enabled?: boolean\n  /**\n   * The total number of items in the list\n   */\n  itemCount: number\n  /**\n   * The height of an individual item\n   */\n  itemHeight: number\n  /**\n   * The number of items to render above and below the visible area\n   * @default 5\n   */\n  buffer?: number\n  /**\n   * The height of the scrollable container\n   */\n  height?: number\n  /**\n   * The scroll position of the list in the container\n   */\n  scrollPosition?: number\n}\n\nconst initialResult = { afterHeight: 0, beforeHeight: 0, end: 0, start: 0 }\n\nexport function getWindowedListBoundaries({\n  buffer = 5,\n  height,\n  scrollPosition,\n  enabled = true,\n  itemCount,\n  itemHeight,\n}: GetWindowedListBoundaryProps) {\n  if (!enabled) return { ...initialResult, end: itemCount - 1 }\n\n  if (scrollPosition === undefined || height === undefined)\n    // scroll position and height probably undefined on initial render\n    // best to render no list items before we have these values\n    return initialResult\n\n  const top = Math.floor(scrollPosition / itemHeight)\n  const bottom = Math.ceil((height + scrollPosition) / itemHeight)\n\n  const start = top - buffer < 0 ? 0 : top - buffer\n  const end = bottom + buffer > itemCount - 1 ? itemCount - 1 : bottom + buffer\n  const afterLength = itemCount - 1 - end\n\n  return {\n    afterHeight: afterLength * itemHeight,\n    beforeHeight: start * itemHeight,\n    end,\n    start,\n  }\n}\n"],"mappings":";;;;;;;;;;;AAkCA,IAAMA,aAAa,GAAG;EAAEC,WAAW,EAAE,CAAC;EAAEC,YAAY,EAAE,CAAC;EAAEC,GAAG,EAAE,CAAC;EAAEC,KAAK,EAAE;AAAE,CAAC;AAEpE,SAASC,yBAAyB,OAOR;EAAA,uBAN/BC,MAAM;IAANA,MAAM,4BAAG,CAAC;IACVC,MAAM,QAANA,MAAM;IACNC,cAAc,QAAdA,cAAc;IAAA,oBACdC,OAAO;IAAPA,OAAO,6BAAG,IAAI;IACdC,SAAS,QAATA,SAAS;IACTC,UAAU,QAAVA,UAAU;EAEV,IAAI,CAACF,OAAO,EAAE,uCAAYT,aAAa;IAAEG,GAAG,EAAEO,SAAS,GAAG;EAAC;EAE3D,IAAIF,cAAc,KAAKI,SAAS,IAAIL,MAAM,KAAKK,SAAS;IAGtD,OAAOZ,aAAa;EAEtB,IAAMa,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACP,cAAc,GAAGG,UAAU,CAAC;EACnD,IAAMK,MAAM,GAAGF,IAAI,CAACG,IAAI,CAAC,CAACV,MAAM,GAAGC,cAAc,IAAIG,UAAU,CAAC;EAEhE,IAAMP,KAAK,GAAGS,GAAG,GAAGP,MAAM,GAAG,CAAC,GAAG,CAAC,GAAGO,GAAG,GAAGP,MAAM;EACjD,IAAMH,GAAG,GAAGa,MAAM,GAAGV,MAAM,GAAGI,SAAS,GAAG,CAAC,GAAGA,SAAS,GAAG,CAAC,GAAGM,MAAM,GAAGV,MAAM;EAC7E,IAAMY,WAAW,GAAGR,SAAS,GAAG,CAAC,GAAGP,GAAG;EAEvC,OAAO;IACLF,WAAW,EAAEiB,WAAW,GAAGP,UAAU;IACrCT,YAAY,EAAEE,KAAK,GAAGO,UAAU;IAChCR,GAAG,EAAHA,GAAG;IACHC,KAAK,EAALA;EACF,CAAC;AACH"}