{"version":3,"file":"useListWidths.js","names":["useEffect","useState","useListWidths","isVisible","minWidth","propsMinWidth","width","propsWidth","wrapperElement","setWidth","setMinWidth","getWrapperWidth","getBoundingClientRect","newWidth","newMinWidth","undefined"],"sources":["../../../../../../src/Form/Inputs/Combobox/utils/useListWidths.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { useEffect, useState } from 'react'\nimport type { WidthProps, MinWidthProps } from '@looker/design-tokens'\n\nexport interface UseListWidthProps extends MinWidthProps, WidthProps {\n  isVisible?: boolean\n  wrapperElement?: HTMLElement | null\n}\n\nexport function useListWidths({\n  isVisible,\n  minWidth: propsMinWidth,\n  width: propsWidth,\n  wrapperElement,\n}: UseListWidthProps) {\n  const [width, setWidth] = useState<WidthProps['width']>('auto')\n  const [minWidth, setMinWidth] = useState<MinWidthProps['minWidth']>()\n\n  useEffect(() => {\n    // Avoid calling expensive getBoundingClientWidth if width/minWidth are defined in props\n    // or if the list is currently not visible\n    function getWrapperWidth() {\n      return wrapperElement && wrapperElement.getBoundingClientRect().width\n    }\n    if (isVisible) {\n      const newWidth = propsWidth || getWrapperWidth() || 'auto'\n      const newMinWidth =\n        propsMinWidth || (propsWidth === 'auto' ? getWrapperWidth() : undefined)\n\n      setWidth(newWidth)\n      setMinWidth(newMinWidth)\n    }\n  }, [propsMinWidth, propsWidth, wrapperElement, isVisible])\n\n  return { minWidth, width }\n}\n"],"mappings":";;AAKA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAQ3C,OAAO,SAASC,aAAa,CAAC;EAC5BC,SAAS;EACTC,QAAQ,EAAEC,aAAa;EACvBC,KAAK,EAAEC,UAAU;EACjBC;AACiB,CAAC,EAAE;EACpB,MAAM,CAACF,KAAK,EAAEG,QAAQ,CAAC,GAAGR,QAAQ,CAAsB,MAAM,CAAC;EAC/D,MAAM,CAACG,QAAQ,EAAEM,WAAW,CAAC,GAAGT,QAAQ,EAA6B;EAErED,SAAS,CAAC,MAAM;IAGd,SAASW,eAAe,GAAG;MACzB,OAAOH,cAAc,IAAIA,cAAc,CAACI,qBAAqB,EAAE,CAACN,KAAK;IACvE;IACA,IAAIH,SAAS,EAAE;MACb,MAAMU,QAAQ,GAAGN,UAAU,IAAII,eAAe,EAAE,IAAI,MAAM;MAC1D,MAAMG,WAAW,GACfT,aAAa,KAAKE,UAAU,KAAK,MAAM,GAAGI,eAAe,EAAE,GAAGI,SAAS,CAAC;MAE1EN,QAAQ,CAACI,QAAQ,CAAC;MAClBH,WAAW,CAACI,WAAW,CAAC;IAC1B;EACF,CAAC,EAAE,CAACT,aAAa,EAAEE,UAAU,EAAEC,cAAc,EAAEL,SAAS,CAAC,CAAC;EAE1D,OAAO;IAAEC,QAAQ;IAAEE;EAAM,CAAC;AAC5B"}