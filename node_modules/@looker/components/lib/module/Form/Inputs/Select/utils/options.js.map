{"version":3,"file":"options.js","names":["getComboboxText","getMatchingOption","value","options","find","option","getOption","matchingOption","label","labelProps","undefined","getOptions","values","map","compareOption","toLowerCase","getFirstOption","optionAsGroup","notInOptions","currentOptions","inputValue","checkForIcon","icon","optionsHaveIcons","length","some"],"sources":["../../../../../../src/Form/Inputs/Select/utils/options.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { ComboboxOptionObject } from '../../Combobox'\nimport { getComboboxText } from '../../Combobox'\nimport type {\n  SelectOptionGroupProps,\n  SelectOptionObject,\n  SelectOptionProps,\n} from '../types'\n\nexport function getMatchingOption(\n  value?: string,\n  options?: SelectOptionObject[]\n) {\n  return options?.find(option => option.value === value)\n}\n\nexport function getOption(value?: string, options?: SelectOptionObject[]) {\n  const matchingOption = getMatchingOption(value, options)\n  const label = matchingOption?.label\n  // If this is a filterable Select and the current option has been filtered out\n  // leave label out, so that the matching against the option saved in ComboboxContext won't fail\n  const labelProps = label ? { label } : {}\n  return value !== undefined ? { ...labelProps, value } : undefined\n}\n\nexport function getOptions(\n  values?: string[],\n  options?: SelectOptionObject[]\n): SelectOptionObject[] | undefined {\n  if (!values) return undefined\n  return values.map(value => ({\n    label: getComboboxText(value, options),\n    value,\n  }))\n}\n\nexport function compareOption(option: { value: string }, value: string) {\n  return getComboboxText(option).toLowerCase() === value.toLowerCase()\n}\n\nexport function getFirstOption(\n  options: SelectOptionProps[]\n): SelectOptionObject {\n  const optionAsGroup = options[0] as SelectOptionGroupProps\n  if (optionAsGroup && optionAsGroup.options) return optionAsGroup.options[0]\n  return options[0] as SelectOptionObject\n}\n\n// Is a value contained the specified options (logic to show the on-the-fly \"Create\" option)\nexport function notInOptions(\n  currentOptions: ComboboxOptionObject[],\n  options?: SelectOptionObject[],\n  inputValue?: string\n) {\n  if (!inputValue) return false\n  if (currentOptions.find(option => compareOption(option, inputValue))) {\n    return false\n  }\n  if (!options) return true\n  return options.find(option => compareOption(option, inputValue)) === undefined\n}\n\nconst checkForIcon = (option: SelectOptionObject) => option.icon !== undefined\n\nexport const optionsHaveIcons = (options?: SelectOptionObject[]) => {\n  if (!options || options.length === 0) return false\n  return options.some(option => checkForIcon(option))\n}\n"],"mappings":";;;;AAMA,SAASA,eAAe,QAAQ,gBAAgB;AAOhD,OAAO,SAASC,iBAAiB,CAC/BC,KAAc,EACdC,OAA8B,EAC9B;EACA,OAAOA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACH,KAAK,KAAKA,KAAK,CAAC;AACxD;AAEA,OAAO,SAASI,SAAS,CAACJ,KAAc,EAAEC,OAA8B,EAAE;EACxE,MAAMI,cAAc,GAAGN,iBAAiB,CAACC,KAAK,EAAEC,OAAO,CAAC;EACxD,MAAMK,KAAK,GAAGD,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEC,KAAK;EAGnC,MAAMC,UAAU,GAAGD,KAAK,GAAG;IAAEA;EAAM,CAAC,GAAG,CAAC,CAAC;EACzC,OAAON,KAAK,KAAKQ,SAAS,mCAAQD,UAAU;IAAEP;EAAK,KAAKQ,SAAS;AACnE;AAEA,OAAO,SAASC,UAAU,CACxBC,MAAiB,EACjBT,OAA8B,EACI;EAClC,IAAI,CAACS,MAAM,EAAE,OAAOF,SAAS;EAC7B,OAAOE,MAAM,CAACC,GAAG,CAACX,KAAK,KAAK;IAC1BM,KAAK,EAAER,eAAe,CAACE,KAAK,EAAEC,OAAO,CAAC;IACtCD;EACF,CAAC,CAAC,CAAC;AACL;AAEA,OAAO,SAASY,aAAa,CAACT,MAAyB,EAAEH,KAAa,EAAE;EACtE,OAAOF,eAAe,CAACK,MAAM,CAAC,CAACU,WAAW,EAAE,KAAKb,KAAK,CAACa,WAAW,EAAE;AACtE;AAEA,OAAO,SAASC,cAAc,CAC5Bb,OAA4B,EACR;EACpB,MAAMc,aAAa,GAAGd,OAAO,CAAC,CAAC,CAA2B;EAC1D,IAAIc,aAAa,IAAIA,aAAa,CAACd,OAAO,EAAE,OAAOc,aAAa,CAACd,OAAO,CAAC,CAAC,CAAC;EAC3E,OAAOA,OAAO,CAAC,CAAC,CAAC;AACnB;;AAGA,OAAO,SAASe,YAAY,CAC1BC,cAAsC,EACtChB,OAA8B,EAC9BiB,UAAmB,EACnB;EACA,IAAI,CAACA,UAAU,EAAE,OAAO,KAAK;EAC7B,IAAID,cAAc,CAACf,IAAI,CAACC,MAAM,IAAIS,aAAa,CAACT,MAAM,EAAEe,UAAU,CAAC,CAAC,EAAE;IACpE,OAAO,KAAK;EACd;EACA,IAAI,CAACjB,OAAO,EAAE,OAAO,IAAI;EACzB,OAAOA,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIS,aAAa,CAACT,MAAM,EAAEe,UAAU,CAAC,CAAC,KAAKV,SAAS;AAChF;AAEA,MAAMW,YAAY,GAAIhB,MAA0B,IAAKA,MAAM,CAACiB,IAAI,KAAKZ,SAAS;AAE9E,OAAO,MAAMa,gBAAgB,GAAIpB,OAA8B,IAAK;EAClE,IAAI,CAACA,OAAO,IAAIA,OAAO,CAACqB,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK;EAClD,OAAOrB,OAAO,CAACsB,IAAI,CAACpB,MAAM,IAAIgB,YAAY,CAAChB,MAAM,CAAC,CAAC;AACrD,CAAC"}