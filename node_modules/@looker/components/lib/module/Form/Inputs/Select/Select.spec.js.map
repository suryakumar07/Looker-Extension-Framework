{"version":3,"file":"Select.spec.js","names":["getAllComboboxOptionText","renderWithTheme","AutoGraph","BarChart","act","fireEvent","screen","React","useState","useMemo","useEffect","Button","Select","SelectMulti","options100","Array","from","_","i","value","String","beforeEach","jest","useFakeTimers","afterEach","runOnlyPendingTimers","useRealTimers","runTimers","describe","test","label","click","getByPlaceholderText","select","getByText","closest","expect","not","toHaveClass","toHaveStyle","focus","mouseDown","mouseUp","blur","document","options","each","onChange","name","getJSX","handleChange","fn","queryByText","toBeInTheDocument","input","toBeVisible","bar","toHaveBeenCalledTimes","onChangeArg","toHaveBeenCalledWith","initialOptions","onFilter","optionsToUse","mockOnFilter","Component","setOptions","handleFilter","term","filter","option","indexOf","getAllByRole","toHaveLength","change","target","items","toHaveAttribute","fireArrowDown","keyDown","key","id","groupedOptions","description","foo","other","desc","dimensions","maxHeight","maxWidth","minWidth","width","jsx","list","getByRole","toHaveStyleRule","GetIndicatorJSX","listLevel","indicator","map","opt","undefined","GetIndicatorJSXMulti","toHaveBeenNthCalledWith","isActive","isSelected","check","queryByTitle","mockClear","detailOptions","detail","noOptions","toHaveBeenCalled","spinner","queryByLabelText","testArray","longOptions","index","slice","inputs","length","rafSpy","spyOn","window","mockImplementation","cb","surface","surfaceInner","firstChild","surfaceInnerFlex","scroll","mouseOver","queryByRole","selected","toHaveTextContent","mockRestore","commonProps","isFilterable","placeholder","showCreate","formatCreateLabel","inputValue","values","setValue","tempValue","setTempValue","t","setTimeout","clearTimeout","relatedTarget","toHaveFocus","globalConsole","global","console","warnMock","warn","resetAllMocks","toHaveValue","getByDisplayValue","button","clearButton","getByTestId","querySelector","setLabel","toMatchInlineSnapshot","filterTerm","setFilterTerm","filteredOptions","icon","queryByTestId","getAllByTestId","inputIcon","tagName","toBe","mock","calls","preface","fooPreface","barPreface","parentElement","toHaveDisplayValue","customLabelOptions","TestComponent"],"sources":["../../../../../src/Form/Inputs/Select/Select.spec.tsx"],"sourcesContent":["/*\n\n MIT License\n\n Copyright (c) 2022 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport {\n  getAllComboboxOptionText,\n  renderWithTheme,\n} from '@looker/components-test-utils'\nimport { AutoGraph, BarChart } from '@styled-icons/material'\nimport { act, fireEvent, screen } from '@testing-library/react'\nimport React, { useState, useMemo, useEffect } from 'react'\n\nimport { Button } from '../../../Button'\nimport type { ComboboxOptionIndicatorFunction } from '../Combobox'\nimport { Select } from './Select'\nimport { SelectMulti } from './SelectMulti'\nimport type { SelectOptionProps } from './types'\n\nconst options100 = Array.from(Array(100), (_, i) => ({\n  value: String(i + 1),\n}))\n\nbeforeEach(() => {\n  jest.useFakeTimers()\n})\n\nafterEach(() => {\n  jest.runOnlyPendingTimers()\n  jest.useRealTimers()\n})\n\nconst runTimers = () =>\n  act(() => {\n    jest.runOnlyPendingTimers()\n  })\n\ndescribe('Select / SelectMulti', () => {\n  test('ripple effect', () => {\n    renderWithTheme(\n      <Select\n        options={[\n          { label: 'Cheddar', value: 'cheddar' },\n          { label: 'Gouda', value: 'gouda' },\n          { label: 'Swiss', value: 'swiss' },\n        ]}\n        placeholder=\"Select\"\n      ></Select>\n    )\n\n    fireEvent.click(screen.getByPlaceholderText('Select'))\n\n    const select = screen.getByText('Cheddar').closest('li')\n    expect(select).not.toHaveClass('bg-on fg-in')\n    expect(select).toHaveStyle({\n      '--ripple-color': '#71767a',\n      '--ripple-scale-end': '1',\n      '--ripple-scale-start': '0.1',\n      '--ripple-size': '100%',\n      '--ripple-translate': '0, 0',\n    })\n\n    select && fireEvent.focus(select)\n    expect(select).toHaveClass('bg-on')\n\n    select && fireEvent.mouseDown(select)\n    expect(select).toHaveClass('bg-on fg-in')\n\n    // foreground is locked for a minimum time to animate the ripple\n    select && fireEvent.mouseUp(select)\n    runTimers()\n    expect(select).toHaveClass('bg-on fg-out')\n    runTimers()\n    expect(select).toHaveClass('bg-on')\n\n    select && fireEvent.blur(select)\n    expect(select).not.toHaveClass('bg-on fg-in')\n    fireEvent.click(document)\n  })\n\n  const options = [{ value: 'FOO' }, { value: 'BAR' }]\n\n  test.each([\n    [\n      'Select',\n      (onChange: () => void) => (\n        <Select\n          options={options}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (onChange: () => void) => (\n        <SelectMulti\n          options={options}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with options and handleChange (%s)', (name, getJSX) => {\n    const handleChange = jest.fn()\n    renderWithTheme(getJSX(handleChange))\n    expect(screen.queryByText('FOO')).not.toBeInTheDocument()\n    expect(screen.queryByText('BAR')).not.toBeInTheDocument()\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toBeVisible()\n\n    fireEvent.mouseDown(input)\n\n    // const foo = screen.getByText('FOO')\n    const bar = screen.getByText('BAR')\n\n    // Clicking on the options should fire onBlur on the input and\n    // trigger the state transition that allows in an updated input value.\n    // It doesn't, and the following doesn't work to fake it, so we can't test input value.\n    // act(() => {\n    // getAllByRole('option')[0].focus()\n    // input.blur()\n    // })\n    fireEvent.click(bar)\n    // fireEvent.click(foo)\n\n    expect(handleChange).toHaveBeenCalledTimes(1)\n    // expect(handleChange).toHaveBeenCalledWith({ value: 'FOO' })\n    const onChangeArg = name === 'SelectMulti' ? ['BAR'] : 'BAR'\n    expect(handleChange).toHaveBeenCalledWith(onChangeArg)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  // Test long list of options to capture the windowed options issue\n  const initialOptions = [...options100, ...options, { value: 'BAZ' }]\n\n  test.each([\n    [\n      'Select',\n      (onFilter: (term: string) => void, optionsToUse: SelectOptionProps[]) => (\n        <Select\n          options={optionsToUse}\n          placeholder=\"Search\"\n          onFilter={onFilter}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (onFilter: (term: string) => void, optionsToUse: SelectOptionProps[]) => (\n        <SelectMulti\n          options={optionsToUse}\n          placeholder=\"Search\"\n          onFilter={onFilter}\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with onFilter (%s)', (_, getJSX) => {\n    const mockOnFilter = jest.fn()\n\n    function Component() {\n      const [optionsToUse, setOptions] = useState(initialOptions)\n      function handleFilter(term: string) {\n        mockOnFilter(term)\n        setOptions(\n          initialOptions.filter(option => option.value.indexOf(term) > -1)\n        )\n      }\n\n      return getJSX(handleFilter, optionsToUse)\n    }\n\n    renderWithTheme(<Component />)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    // Only 6 options are rendered since jsdom gives the list a height of 0px\n    expect(screen.getAllByRole('option')).toHaveLength(6)\n    expect(screen.getByText('1')).toBeInTheDocument()\n    expect(screen.getByText('6')).toBeInTheDocument()\n\n    fireEvent.change(input, { target: { value: 'BA' } })\n    expect(mockOnFilter).toHaveBeenCalledWith('BA')\n\n    // Verify keyboard nav hasn't been messed up by updating options\n    const items = screen.getAllByRole('option')\n    expect(items).toHaveLength(2)\n    expect(items[0]).toHaveAttribute('aria-selected', 'false')\n    expect(items[1]).toHaveAttribute('aria-selected', 'false')\n\n    const fireArrowDown = () => fireEvent.keyDown(input, { key: 'ArrowDown' })\n    fireArrowDown()\n    expect(items[0]).toHaveAttribute('aria-selected', 'true')\n    expect(items[1]).toHaveAttribute('aria-selected', 'false')\n    expect(input).toHaveAttribute('aria-activedescendant', items[0].id)\n\n    fireArrowDown()\n    expect(items[0]).toHaveAttribute('aria-selected', 'false')\n    expect(items[1]).toHaveAttribute('aria-selected', 'true')\n    expect(input).toHaveAttribute('aria-activedescendant', items[1].id)\n\n    // Back to the top\n    fireArrowDown()\n    expect(items[0]).toHaveAttribute('aria-selected', 'true')\n    expect(items[1]).toHaveAttribute('aria-selected', 'false')\n    expect(input).toHaveAttribute('aria-activedescendant', items[0].id)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  const groupedOptions = [\n    {\n      label: 'FOO',\n      options: [{ value: 'BAR' }, { value: 'BAZ' }],\n    },\n    {\n      label: 'OTHER',\n      options: [\n        { description: 'A description for something', value: 'something' },\n      ],\n    },\n    // label is not required\n    {\n      options: [{ value: 'QUX' }, { value: 'TEST' }],\n    },\n  ]\n\n  test.each([\n    [\n      'Select',\n      (onChange: () => void) => (\n        <Select\n          options={groupedOptions}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (onChange: () => void) => (\n        <SelectMulti\n          options={groupedOptions}\n          placeholder=\"Search\"\n          onChange={onChange}\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with option descriptions and group labels (%s)', (name, getJSX) => {\n    const handleChange = jest.fn()\n    renderWithTheme(getJSX(handleChange))\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toBeVisible()\n\n    fireEvent.mouseDown(input)\n\n    const foo = screen.getByText('FOO')\n    const other = screen.getByText('OTHER')\n    const desc = screen.getByText('A description for something')\n\n    expect(foo).toBeInTheDocument()\n    expect(other).toBeInTheDocument()\n    expect(desc).toBeInTheDocument()\n\n    // A click on a title shouldn't do anything\n    fireEvent.click(foo)\n    // Description is part of the option so the click triggers change\n    fireEvent.click(desc)\n\n    expect(handleChange).toHaveBeenCalledTimes(1)\n\n    const onChangeArg = name === 'SelectMulti' ? ['something'] : 'something'\n    expect(handleChange).toHaveBeenCalledWith(onChangeArg)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  const dimensions = {\n    maxHeight: 400,\n    maxWidth: 800,\n    minWidth: 300,\n    width: '50vw',\n  }\n\n  test.each([\n    [\n      'Select',\n      <Select\n        options={groupedOptions}\n        placeholder=\"Search\"\n        listLayout={dimensions}\n        key=\"select\"\n      />,\n    ],\n    [\n      'SelectMulti',\n      <SelectMulti\n        options={groupedOptions}\n        placeholder=\"Search\"\n        listLayout={dimensions}\n        key=\"select-multi\"\n      />,\n    ],\n  ])('with listLayout (%s)', (_, jsx) => {\n    renderWithTheme(jsx)\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toBeVisible()\n\n    fireEvent.mouseDown(input)\n\n    const list = screen.getByRole('listbox')\n    expect(list).toHaveStyleRule('max-height', '400px')\n    expect(list).toHaveStyleRule('max-width', '800px')\n    expect(list).toHaveStyleRule('min-width', '300px')\n    expect(list).toHaveStyleRule('width', '50vw')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  /* eslint-disable react/display-name */\n  const GetIndicatorJSX =\n    (listLevel: boolean) => (indicator: ComboboxOptionIndicatorFunction) =>\n      (\n        <Select\n          options={options.map(opt => ({\n            ...opt,\n            ...(listLevel ? {} : { indicator }),\n          }))}\n          value=\"FOO\"\n          placeholder=\"Search\"\n          indicator={listLevel ? indicator : undefined}\n          key=\"select\"\n        />\n      )\n\n  const GetIndicatorJSXMulti =\n    (listLevel: boolean) => (indicator: ComboboxOptionIndicatorFunction) =>\n      (\n        <SelectMulti\n          options={options.map(opt => ({\n            ...opt,\n            ...(listLevel ? {} : { indicator }),\n          }))}\n          values={['FOO']}\n          placeholder=\"Search\"\n          indicator={listLevel ? indicator : undefined}\n          key=\"select-multi\"\n        />\n      )\n  /* eslint-enable react/display-name */\n\n  test.each([\n    ['list level (Select)', GetIndicatorJSX(true)],\n    ['list level (SelectMulti)', GetIndicatorJSXMulti(true)],\n    ['option level (Select)', GetIndicatorJSX(false)],\n    ['option level (SelectMulti)', GetIndicatorJSXMulti(false)],\n  ])('Customize the indicator at the %s', (_, getJSX) => {\n    const indicator = jest.fn()\n    renderWithTheme(getJSX(indicator))\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.click(input)\n\n    expect(indicator).toHaveBeenCalledTimes(2)\n    expect(indicator).toHaveBeenNthCalledWith(1, {\n      // ComboboxList.persistSelection is true for Select/SelectMulti\n      isActive: true,\n      isSelected: true,\n      label: undefined,\n      value: 'FOO',\n    })\n    expect(indicator).toHaveBeenNthCalledWith(2, {\n      isActive: false,\n      isSelected: false,\n      label: undefined,\n      value: 'BAR',\n    })\n\n    const check = screen.queryByTitle('Check')\n    expect(check).not.toBeInTheDocument()\n\n    indicator.mockClear()\n\n    const bar = screen.getByText('BAR')\n    fireEvent.keyDown(bar, {\n      key: 'ArrowDown',\n    })\n\n    expect(indicator).toHaveBeenCalledTimes(2)\n    expect(indicator).toHaveBeenNthCalledWith(1, {\n      // ComboboxList.persistSelection is true for Select/SelectMulti\n      isActive: false,\n      isSelected: true,\n      label: undefined,\n      value: 'FOO',\n    })\n    expect(indicator).toHaveBeenNthCalledWith(2, {\n      isActive: true,\n      isSelected: false,\n      label: undefined,\n      value: 'BAR',\n    })\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  const detailOptions = [{ detail: 'Info about option', value: 'someValue' }]\n  test.each([\n    [\n      'Select',\n      <Select placeholder=\"Search\" options={detailOptions} key=\"select\" />,\n    ],\n    [\n      'SelectMulti',\n      <SelectMulti\n        placeholder=\"Search\"\n        options={detailOptions}\n        key=\"select-multi\"\n      />,\n    ],\n  ])('option detail (%s)', (_, jsx) => {\n    renderWithTheme(jsx)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    expect(screen.getByText('Info about option')).toBeVisible()\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  describe('no options', () => {\n    test.each([\n      [\n        'Select',\n        (onChange: () => void) => (\n          <Select placeholder=\"Search\" onChange={onChange} key=\"select\" />\n        ),\n      ],\n      [\n        'SelectMulti',\n        (onChange: () => void) => (\n          <SelectMulti\n            placeholder=\"Search\"\n            onChange={onChange}\n            key=\"select-multi\"\n          />\n        ),\n      ],\n    ])('label does nothing when clicked (%s)', (_, getJSX) => {\n      const handleChange = jest.fn()\n      renderWithTheme(getJSX(handleChange))\n\n      const input = screen.getByPlaceholderText('Search')\n\n      fireEvent.mouseDown(input)\n\n      const noOptions = screen.getByText('No options')\n      fireEvent.click(noOptions)\n\n      expect(handleChange).not.toHaveBeenCalled()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    const label = 'Your search returned no results'\n    test.each([\n      [\n        'Select',\n        <Select placeholder=\"Search\" noOptionsLabel={label} key=\"select\" />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          placeholder=\"Search\"\n          noOptionsLabel={label}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('custom label text (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      const noOptions = screen.queryByText(label)\n      expect(noOptions).toBeVisible()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n    test.each([\n      ['Select', <Select placeholder=\"Search\" isLoading key=\"select\" />],\n      [\n        'SelectMulti',\n        <SelectMulti placeholder=\"Search\" isLoading key=\"select-multi\" />,\n      ],\n    ])('isLoading (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n\n      fireEvent.mouseDown(input)\n\n      const spinner = screen.queryByLabelText('Loading')\n      expect(spinner).toBeVisible()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n  })\n\n  describe('windowed options', () => {\n    const testArray: Array<\n      [string, (longOptions: SelectOptionProps[]) => JSX.Element]\n    > = [\n      [\n        'Select',\n        longOptions => (\n          <Select placeholder=\"Search\" options={longOptions} key=\"select\" />\n        ),\n      ],\n      [\n        'SelectMulti',\n        longOptions => (\n          <SelectMulti\n            placeholder=\"Search\"\n            options={longOptions}\n            key=\"select-multi\"\n          />\n        ),\n      ],\n    ]\n\n    test.each(testArray)('100 options do not all render (%s)', (_, getJSX) => {\n      const longOptions = Array.from(Array(100), (_, index) => ({\n        value: `${index}`,\n      }))\n      renderWithTheme(getJSX(longOptions))\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      expect(screen.getByText('0')).toBeInTheDocument()\n      expect(screen.getByText('5')).toBeInTheDocument()\n      // js-dom doesn't do layout so only the first option + 5 buffer are rendered\n      expect(screen.queryByText('6')).not.toBeInTheDocument()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    test.each(testArray)(\n      '100 grouped options do not all render (%s)',\n      (_, getJSX) => {\n        const longOptions = Array.from(Array(100), (_, index) => ({\n          value: `${index}`,\n        }))\n        const groupedOptions = [\n          { label: 'First', options: longOptions.slice(0, 4) },\n          { label: 'Second', options: longOptions.slice(4, 20) },\n          { label: 'Third', options: longOptions.slice(20, 99) },\n        ]\n        renderWithTheme(getJSX(groupedOptions))\n\n        const inputs = screen.getAllByRole('textbox')\n        // SelectMulti has a hidden input\n        const input = inputs[inputs.length - 1]\n        fireEvent.mouseDown(input)\n\n        expect(screen.getByText('First')).toBeInTheDocument()\n        expect(screen.getByText('3')).toBeInTheDocument()\n        // js-dom doesn't do layout so only the first divider (hidden), group header\n        // and 4 options are rendered\n        expect(screen.queryByText('4')).not.toBeInTheDocument()\n        // Close popover to silence act() warning\n        fireEvent.click(document)\n      }\n    )\n\n    test.each(testArray)(\n      'Hover navigation is off while scrolling (%s)',\n      (_, getJSX) => {\n        jest.useFakeTimers()\n\n        const rafSpy = jest\n          .spyOn(window, 'requestAnimationFrame')\n          .mockImplementation((cb: any) => cb())\n\n        renderWithTheme(getJSX(options))\n\n        const input = screen.getByPlaceholderText('Search')\n        fireEvent.mouseDown(input)\n\n        // hover will not trigger navigate during & right after scroll\n        const surface = screen.getByRole('dialog')\n        expect(surface).toBeInTheDocument()\n        const surfaceInner = surface && surface.firstChild\n        expect(surfaceInner).toBeInTheDocument()\n        const surfaceInnerFlex = surfaceInner && surfaceInner.firstChild\n        expect(surfaceInnerFlex).toBeInTheDocument()\n        surfaceInnerFlex && fireEvent.scroll(surfaceInnerFlex)\n\n        const bar = screen.getByText('BAR')\n        fireEvent.mouseOver(bar)\n        expect(\n          screen.queryByRole('option', { selected: true })\n        ).not.toBeInTheDocument()\n\n        // hover will trigger navigate after timeout\n        jest.runOnlyPendingTimers()\n\n        fireEvent.mouseOver(bar)\n        expect(\n          screen.queryByRole('option', { selected: true })\n        ).toHaveTextContent('BAR')\n\n        // Close popover to silence act() warning\n        fireEvent.click(document)\n\n        runTimers()\n\n        rafSpy.mockRestore()\n      }\n    )\n\n    test.each(testArray)('99 options all render (%s)', (_, getJSX) => {\n      const longOptions = Array.from(Array(99), (_, index) => ({\n        value: `${index}`,\n      }))\n      renderWithTheme(getJSX(longOptions))\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      expect(screen.getByText('0')).toBeInTheDocument()\n      expect(screen.getByText('98')).toBeInTheDocument()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    const label = 'Your search returned no results'\n    test.each([\n      [\n        'Select',\n        <Select placeholder=\"Search\" noOptionsLabel={label} key=\"select\" />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          placeholder=\"Search\"\n          noOptionsLabel={label}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('custom label text (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.mouseDown(input)\n\n      const noOptions = screen.queryByText(label)\n      expect(noOptions).toBeVisible()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n  })\n\n  describe('showCreate', () => {\n    const commonProps = {\n      isFilterable: true,\n      placeholder: 'Search',\n      showCreate: true,\n    }\n    test.each([\n      [\n        'Select',\n        <Select defaultValue=\"test value\" {...commonProps} key=\"select\" />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          defaultValues={['test value']}\n          {...commonProps}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('create option replaces \"No options\" (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'some text' } })\n\n      expect(screen.getByText('Create \"some text\"')).toBeVisible()\n      expect(screen.queryByText('No options')).not.toBeInTheDocument()\n\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'test value' } })\n\n      // create option doesn't show if inputValue is already in current values\n      expect(screen.getByText('No options')).toBeVisible()\n      expect(screen.queryByText('Create \"test value\"')).not.toBeInTheDocument()\n\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: '' } })\n\n      // No options should show if there are no options AND no input value\n      expect(screen.getByText('No options')).toBeVisible()\n      expect(screen.queryByText('Create \"\"')).not.toBeInTheDocument()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n\n    const formatCreateLabel = (inputValue: string) =>\n      `${inputValue} CREATE LABEL`\n    test.each([\n      [\n        'Select',\n        <Select\n          options={options}\n          {...commonProps}\n          formatCreateLabel={formatCreateLabel}\n          key=\"select\"\n        />,\n      ],\n      [\n        'SelectMulti',\n        <SelectMulti\n          options={options}\n          {...commonProps}\n          formatCreateLabel={formatCreateLabel}\n          key=\"select-multi\"\n        />,\n      ],\n    ])('custom label, checks options (%s)', (_, jsx) => {\n      renderWithTheme(jsx)\n\n      const input = screen.getByPlaceholderText('Search')\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'some text' } })\n\n      expect(screen.getByText('some text CREATE LABEL')).toBeVisible()\n\n      fireEvent.focus(input)\n      fireEvent.change(input, { target: { value: 'foo' } })\n\n      // create option doesn't show if inputValue is in options\n      expect(screen.queryByText('foo CREATE LABEL')).not.toBeInTheDocument()\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n  })\n\n  test.each([\n    [\n      'Select',\n      (value: string, onChange: (value: string) => void) => (\n        <Select\n          options={options}\n          placeholder=\"Search\"\n          value={value}\n          onChange={onChange}\n          key=\"select\"\n        />\n      ),\n    ],\n    [\n      'SelectMulti',\n      (value: string, onChange: (value: string) => void) => (\n        <SelectMulti\n          options={options}\n          placeholder=\"Search\"\n          values={[value]}\n          onChange={(values?: string[]) =>\n            onChange(values && values.length ? values[0] : '')\n          }\n          key=\"select-multi\"\n        />\n      ),\n    ],\n  ])('with controlled delayed update (%s)', (_, getJSX) => {\n    function Component() {\n      const [value, setValue] = useState('BAR')\n      const [tempValue, setTempValue] = useState(value)\n      useEffect(() => {\n        const t = setTimeout(() => {\n          setValue(tempValue)\n        }, 0)\n        return () => {\n          clearTimeout(t)\n        }\n      }, [tempValue])\n\n      return getJSX(value, setTempValue)\n    }\n\n    renderWithTheme(<Component />)\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    const option = screen.getByText('FOO')\n    fireEvent.blur(input, { relatedTarget: option })\n    fireEvent.click(option)\n\n    expect(input).toHaveFocus()\n\n    runTimers()\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n})\n\ndescribe('Select', () => {\n  const globalConsole = global.console\n  const warnMock = jest.fn()\n\n  beforeEach(() => {\n    global.console = {\n      warn: warnMock,\n    } as unknown as Console\n  })\n\n  afterEach(() => {\n    jest.resetAllMocks()\n    global.console = globalConsole\n  })\n\n  const options = [\n    { label: 'Foo', value: 'FOO' },\n    { label: 'Bar', value: 'BAR' },\n  ]\n\n  test('value', () => {\n    renderWithTheme(\n      <Select\n        options={options}\n        placeholder=\"Search\"\n        value=\"BAR\"\n        onChange={jest.fn()}\n      />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    // should not default to first option\n    expect(input).toHaveValue('Bar')\n    // verify that clear all icon button is not show (isClearable not set)\n    expect(screen.queryByRole('button')).not.toBeInTheDocument()\n  })\n\n  test('clearing the value externally', () => {\n    const Component = () => {\n      const [value, setValue] = useState('FOO')\n      return (\n        <>\n          <Button onClick={() => setValue('')}>Clear</Button>\n          <Select value={value} onChange={setValue} options={options} />\n        </>\n      )\n    }\n    renderWithTheme(<Component />)\n\n    const input = screen.getByDisplayValue('Foo')\n    const button = screen.getByText('Clear')\n\n    fireEvent.click(button)\n    expect(input).not.toHaveValue()\n  })\n\n  test('defaultValue', () => {\n    renderWithTheme(\n      <Select options={options} placeholder=\"Search\" defaultValue=\"BAR\" />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    // should not default to first option\n    expect(input).toHaveValue('Bar')\n  })\n\n  test('isClearable', () => {\n    const handleChange = jest.fn()\n    renderWithTheme(\n      <Select\n        options={options}\n        placeholder=\"Search\"\n        defaultValue=\"BAR\"\n        onChange={handleChange}\n        isClearable\n      />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    expect(input).toHaveValue('Bar')\n\n    const clearButton = screen.getByRole('button')\n    fireEvent.click(clearButton)\n\n    expect(input).not.toHaveValue()\n    expect(handleChange).toHaveBeenCalledWith('')\n  })\n\n  test('placeholder, no defaultValue', () => {\n    const options = [{ value: 'FOO' }, { value: 'BAR' }]\n    renderWithTheme(<Select options={options} placeholder=\"Search\" />)\n\n    const input = screen.getByPlaceholderText('Search')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('isClearable, no defaultValue', () => {\n    renderWithTheme(\n      <Select options={options} isClearable data-testid=\"wrapper\" />\n    )\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('empty string defaultValue', () => {\n    renderWithTheme(\n      <Select options={options} defaultValue=\"\" data-testid=\"wrapper\" />\n    )\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('empty string value', () => {\n    renderWithTheme(<Select options={options} value=\"\" data-testid=\"wrapper\" />)\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).not.toHaveValue()\n  })\n\n  test('empty string value, empty string option', () => {\n    renderWithTheme(\n      <Select\n        options={[{ label: 'An empty string', value: '' }, ...options]}\n        value=\"\"\n        data-testid=\"wrapper\"\n      />\n    )\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should not default to first option\n    expect(input).toHaveValue('An empty string')\n  })\n\n  test('default to first option', () => {\n    renderWithTheme(<Select options={options} data-testid=\"wrapper\" />)\n\n    const input = screen.getByTestId('wrapper').querySelector('input')\n    // should default to first option\n    expect(input).toHaveValue('Foo')\n  })\n\n  test('displayed value changes when option label changes', () => {\n    const Component = () => {\n      const [label, setLabel] = useState('Original Label')\n      const options = [\n        { label, value: 'value_stays_the_same' },\n        { label: 'Another Option', value: 'other' },\n      ]\n      return (\n        <>\n          <Button onClick={() => setLabel('Updated label')}>\n            Update label\n          </Button>\n          <Select value=\"value_stays_the_same\" options={options} />\n        </>\n      )\n    }\n    renderWithTheme(<Component />)\n\n    const input = screen.getByDisplayValue('Original Label')\n    fireEvent.click(input)\n    expect(getAllComboboxOptionText()).toMatchInlineSnapshot(`\n      Array [\n        \"Original Label\",\n        \"Another Option\",\n      ]\n    `)\n    // Close list\n    fireEvent.click(document)\n\n    fireEvent.click(screen.getByText('Update label'))\n    expect(input).toHaveValue('Updated label')\n\n    fireEvent.click(input)\n    expect(getAllComboboxOptionText()).toMatchInlineSnapshot(`\n      Array [\n        \"Updated label\",\n        \"Another Option\",\n      ]\n    `)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('filtering out the selected option does not trigger a change', () => {\n    // Tests a bug where as soon as the selected option gets filtered out,\n    // the input value reverts to the current value\n    const Component = () => {\n      const [filterTerm, setFilterTerm] = useState('')\n      const filteredOptions = useMemo(\n        () => options.filter(option => option.label.indexOf(filterTerm) > -1),\n        [filterTerm]\n      )\n      return (\n        <Select\n          value=\"FOO\"\n          options={filteredOptions}\n          isFilterable\n          onFilter={setFilterTerm}\n        />\n      )\n    }\n    renderWithTheme(<Component />)\n\n    const input = screen.getByDisplayValue('Foo')\n    fireEvent.change(input, { target: { value: 'Ba' } })\n    expect(input).toHaveValue('Ba')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('option icons', () => {\n    renderWithTheme(\n      <Select\n        placeholder=\"Select a visualization\"\n        options={[\n          {\n            icon: <AutoGraph data-testid=\"input-icon\" />,\n            label: 'Bar',\n            value: 'bar',\n          },\n          { label: 'No Icon', value: 'noicon' },\n          {\n            icon: <BarChart data-testid=\"input-icon\" />,\n            indicator: 'Test Indicator',\n            label: 'Column',\n            value: 'column',\n          },\n          {\n            icon: <>cool icon</>,\n            label: 'Custom Icon',\n            value: 'custom',\n          },\n        ]}\n      />\n    )\n\n    expect(screen.queryByTestId('input-icon')).not.toBeInTheDocument()\n\n    const input = screen.getByPlaceholderText('Select a visualization')\n    expect(input).toBeInTheDocument()\n    fireEvent.click(input)\n    expect(screen.getAllByTestId('input-icon')).toHaveLength(2)\n    expect(screen.getByTestId('option-icon-placeholder')).toBeInTheDocument()\n\n    fireEvent.click(screen.getByText('Column'))\n    const inputIcon = screen.getByTestId('input-icon')\n    expect(inputIcon.tagName).toBe('svg')\n\n    fireEvent.click(input)\n    fireEvent.click(screen.getByText('Custom Icon'))\n    expect(screen.getByText('cool icon')).toBeInTheDocument()\n\n    // Test icon+indicator warning\n    expect(screen.queryByText('Test Indicator')).not.toBeInTheDocument()\n    expect(warnMock.mock.calls).toMatchInlineSnapshot(`\n      Array [\n        Array [\n          \"Use icon or indicator but not both at the same time.\",\n        ],\n        Array [\n          \"Use icon or indicator but not both at the same time.\",\n        ],\n      ]\n    `)\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('option preface', () => {\n    renderWithTheme(\n      <Select\n        placeholder=\"Search\"\n        options={[\n          { label: 'Foo', preface: 'Preface for Foo', value: 'FOO' },\n          {\n            label: 'Bar',\n            preface: (\n              <>\n                <strong>Preface for</strong> Bar\n              </>\n            ),\n            value: 'BAR',\n          },\n        ]}\n      />\n    )\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.click(input)\n    const fooPreface = screen.getByText('Preface for Foo')\n    const barPreface = screen.getByText('Preface for')\n    expect(fooPreface).toBeVisible()\n    expect(barPreface).toBeVisible()\n    expect(barPreface.parentElement).toHaveTextContent('Preface for Bar')\n\n    fireEvent.click(fooPreface)\n    expect(input).toHaveDisplayValue('Foo')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  test('filtering after selecting an option where value != label', () => {\n    const customLabelOptions = [\n      { label: 'Foo', value: 'FOO' },\n      { label: 'Bar', value: 'BAR' },\n    ]\n    function TestComponent() {\n      const [filterTerm, setFilterTerm] = useState('')\n      const [value, setValue] = useState('')\n      // Just need to simulate the current option being filtered out\n      const filteredOptions = filterTerm === '' ? customLabelOptions : []\n      return (\n        <Select\n          options={filteredOptions}\n          value={value}\n          onChange={setValue}\n          isFilterable\n          onFilter={setFilterTerm}\n          placeholder=\"Search\"\n        />\n      )\n    }\n\n    renderWithTheme(<TestComponent />)\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.click(input)\n    fireEvent.click(screen.getByText('Foo'))\n    expect(input).toHaveDisplayValue('Foo')\n\n    fireEvent.focus(input)\n    fireEvent.change(input, { target: { value: 'Testing' } })\n    expect(input).toHaveDisplayValue('Testing')\n\n    // Close popover to silence act() warning\n    fireEvent.click(document)\n  })\n\n  // Test for the \"No options\" bug\n  test('filtering a windowed list then deleting the filter', () => {\n    function Component() {\n      const [optionsToUse, setOptions] = useState(options100)\n      function handleFilter(term: string) {\n        setOptions(options100.filter(option => option.value.indexOf(term) > -1))\n      }\n      return (\n        <Select\n          options={optionsToUse}\n          placeholder=\"Search\"\n          onFilter={handleFilter}\n          value=\"\"\n        />\n      )\n    }\n\n    renderWithTheme(<Component />)\n\n    const input = screen.getByPlaceholderText('Search')\n    fireEvent.mouseDown(input)\n    fireEvent.change(input, { target: { value: '90' } })\n    // Must delete filter before navigating for bug to show up\n    fireEvent.change(input, { target: { value: '' } })\n    expect(screen.queryByText('No options')).not.toBeInTheDocument()\n\n    fireEvent.click(document)\n  })\n})\n"],"mappings":"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"}