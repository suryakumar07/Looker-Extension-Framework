{"version":3,"file":"InputFile.spec.js","names":["renderWithTheme","fireEvent","screen","React","InputFile","test","jest","fn","expect","getByText","toBeVisible","handleFileMock","file","File","type","input","getByTestId","change","target","files","toBeCalledTimes","toHaveBeenCalledWith","text","getByRole","toHaveValue"],"sources":["../../../../../src/Form/Inputs/InputFile/InputFile.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { fireEvent, screen } from '@testing-library/react'\nimport React from 'react'\nimport { InputFile } from '.'\n\ntest('displays input text and button', () => {\n  renderWithTheme(<InputFile handleFile={jest.fn()} />)\n  expect(screen.getByText('Upload File')).toBeVisible()\n})\n\ntest('button text prop changes button text', () => {\n  renderWithTheme(<InputFile handleFile={jest.fn()} buttonText=\"ButtonTest\" />)\n  expect(screen.getByText('ButtonTest')).toBeVisible()\n})\n\ntest('should allow user to choose a file and calls handleFile on selection', async () => {\n  const handleFileMock = jest.fn()\n  renderWithTheme(<InputFile handleFile={handleFileMock} />)\n\n  const file = new File(['testing'], 'testing.json', {\n    type: 'application/JSON',\n  })\n  const input = screen.getByTestId('input-file')\n\n  fireEvent.change(input, { target: { files: [file] } })\n\n  expect(handleFileMock).toBeCalledTimes(1)\n  expect(handleFileMock).toHaveBeenCalledWith(file)\n})\n\ntest('should show file name in textbox once file uploads', async () => {\n  renderWithTheme(<InputFile handleFile={jest.fn()} />)\n\n  const file = new File(['testing'], 'testing.json', {\n    type: 'application/JSON',\n  })\n  const input = screen.getByTestId('input-file')\n  const text = screen.getByRole('textbox') as HTMLInputElement\n\n  fireEvent.change(input, { target: { files: [file] } })\n\n  expect(text).toHaveValue('testing.json')\n})\n"],"mappings":";;AAKA,SAASA,eAAe,QAAQ,+BAA+B;AAC/D,SAASC,SAAS,EAAEC,MAAM,QAAQ,wBAAwB;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,GAAG;AAE7BC,IAAI,CAAC,gCAAgC,EAAE,MAAM;EAC3CL,eAAe,CAAC,oBAAC,SAAS;IAAC,UAAU,EAAEM,IAAI,CAACC,EAAE;EAAG,EAAG,CAAC;EACrDC,MAAM,CAACN,MAAM,CAACO,SAAS,CAAC,aAAa,CAAC,CAAC,CAACC,WAAW,EAAE;AACvD,CAAC,CAAC;AAEFL,IAAI,CAAC,sCAAsC,EAAE,MAAM;EACjDL,eAAe,CAAC,oBAAC,SAAS;IAAC,UAAU,EAAEM,IAAI,CAACC,EAAE,EAAG;IAAC,UAAU,EAAC;EAAY,EAAG,CAAC;EAC7EC,MAAM,CAACN,MAAM,CAACO,SAAS,CAAC,YAAY,CAAC,CAAC,CAACC,WAAW,EAAE;AACtD,CAAC,CAAC;AAEFL,IAAI,CAAC,sEAAsE,EAAE,YAAY;EACvF,MAAMM,cAAc,GAAGL,IAAI,CAACC,EAAE,EAAE;EAChCP,eAAe,CAAC,oBAAC,SAAS;IAAC,UAAU,EAAEW;EAAe,EAAG,CAAC;EAE1D,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC,SAAS,CAAC,EAAE,cAAc,EAAE;IACjDC,IAAI,EAAE;EACR,CAAC,CAAC;EACF,MAAMC,KAAK,GAAGb,MAAM,CAACc,WAAW,CAAC,YAAY,CAAC;EAE9Cf,SAAS,CAACgB,MAAM,CAACF,KAAK,EAAE;IAAEG,MAAM,EAAE;MAAEC,KAAK,EAAE,CAACP,IAAI;IAAE;EAAE,CAAC,CAAC;EAEtDJ,MAAM,CAACG,cAAc,CAAC,CAACS,eAAe,CAAC,CAAC,CAAC;EACzCZ,MAAM,CAACG,cAAc,CAAC,CAACU,oBAAoB,CAACT,IAAI,CAAC;AACnD,CAAC,CAAC;AAEFP,IAAI,CAAC,oDAAoD,EAAE,YAAY;EACrEL,eAAe,CAAC,oBAAC,SAAS;IAAC,UAAU,EAAEM,IAAI,CAACC,EAAE;EAAG,EAAG,CAAC;EAErD,MAAMK,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC,SAAS,CAAC,EAAE,cAAc,EAAE;IACjDC,IAAI,EAAE;EACR,CAAC,CAAC;EACF,MAAMC,KAAK,GAAGb,MAAM,CAACc,WAAW,CAAC,YAAY,CAAC;EAC9C,MAAMM,IAAI,GAAGpB,MAAM,CAACqB,SAAS,CAAC,SAAS,CAAqB;EAE5DtB,SAAS,CAACgB,MAAM,CAACF,KAAK,EAAE;IAAEG,MAAM,EAAE;MAAEC,KAAK,EAAE,CAACP,IAAI;IAAE;EAAE,CAAC,CAAC;EAEtDJ,MAAM,CAACc,IAAI,CAAC,CAACE,WAAW,CAAC,cAAc,CAAC;AAC1C,CAAC,CAAC"}