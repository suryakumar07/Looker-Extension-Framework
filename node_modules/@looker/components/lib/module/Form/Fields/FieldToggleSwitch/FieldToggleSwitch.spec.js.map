{"version":3,"file":"FieldToggleSwitch.spec.js","names":["React","composeStories","userEvent","renderWithTheme","screen","FieldToggleSwitch","stories","RichDetailDescription","describe","test","errorMessage","container","message","type","input","getByDisplayValue","id","getAttribute","expect","toBeDefined","toEqual","toHaveTextContent","getByLabelText","toBeDisabled","getByTestId","toBeVisible","getByRole","detail","link","getByText","tab","toHaveFocus"],"sources":["../../../../../src/Form/Fields/FieldToggleSwitch/FieldToggleSwitch.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport 'jest-styled-components'\nimport React from 'react'\nimport { composeStories } from '@storybook/testing-react'\nimport userEvent from '@testing-library/user-event'\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { screen } from '@testing-library/react'\nimport { FieldToggleSwitch } from './FieldToggleSwitch'\nimport * as stories from './stories/index.stories'\n\nconst { RichDetailDescription } = composeStories(stories)\n\ndescribe('FieldToggleSwitch', () => {\n  test('error has proper aria setup', () => {\n    const errorMessage = 'This is an error'\n\n    const { container } = renderWithTheme(\n      <FieldToggleSwitch\n        id=\"test\"\n        defaultValue=\"example\"\n        validationMessage={{ message: errorMessage, type: 'error' }}\n      />\n    )\n\n    const input = screen.getByDisplayValue('example')\n    const id = input.getAttribute('aria-describedby')\n    expect(id).toBeDefined()\n    expect(id).toEqual('describedby-test')\n    expect(container).toHaveTextContent(errorMessage)\n  })\n\n  test('disabled', () => {\n    renderWithTheme(\n      <FieldToggleSwitch\n        disabled\n        id=\"FieldToggleSwitchID\"\n        label=\"Toggle Switch\"\n      />\n    )\n\n    expect(screen.getByLabelText('Toggle Switch')).toBeDisabled()\n  })\n\n  test('required', () => {\n    renderWithTheme(\n      <FieldToggleSwitch\n        id=\"FieldToggleSwitchID\"\n        label=\"Toggle Switch\"\n        required\n      />\n    )\n\n    expect(screen.getByTestId('requiredStar')).toBeVisible()\n  })\n\n  test('tabStops', () => {\n    renderWithTheme(<RichDetailDescription />)\n\n    const input = screen.getByRole('switch')\n    const detail = screen.getByRole('button')\n    const link = screen.getByText('Link')\n\n    userEvent.tab()\n    expect(input).toHaveFocus()\n    userEvent.tab()\n    expect(detail).toHaveFocus()\n    userEvent.tab()\n    expect(link).toHaveFocus()\n  })\n})\n"],"mappings":";;AAKA,OAAO,wBAAwB;AAC/B,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,0BAA0B;AACzD,OAAOC,SAAS,MAAM,6BAA6B;AACnD,SAASC,eAAe,QAAQ,+BAA+B;AAC/D,SAASC,MAAM,QAAQ,wBAAwB;AAC/C,SAASC,iBAAiB,QAAQ,qBAAqB;AACvD,OAAO,KAAKC,OAAO,MAAM,yBAAyB;AAElD,MAAM;EAAEC;AAAsB,CAAC,GAAGN,cAAc,CAACK,OAAO,CAAC;AAEzDE,QAAQ,CAAC,mBAAmB,EAAE,MAAM;EAClCC,IAAI,CAAC,6BAA6B,EAAE,MAAM;IACxC,MAAMC,YAAY,GAAG,kBAAkB;IAEvC,MAAM;MAAEC;IAAU,CAAC,GAAGR,eAAe,CACnC,oBAAC,iBAAiB;MAChB,EAAE,EAAC,MAAM;MACT,YAAY,EAAC,SAAS;MACtB,iBAAiB,EAAE;QAAES,OAAO,EAAEF,YAAY;QAAEG,IAAI,EAAE;MAAQ;IAAE,EAC5D,CACH;IAED,MAAMC,KAAK,GAAGV,MAAM,CAACW,iBAAiB,CAAC,SAAS,CAAC;IACjD,MAAMC,EAAE,GAAGF,KAAK,CAACG,YAAY,CAAC,kBAAkB,CAAC;IACjDC,MAAM,CAACF,EAAE,CAAC,CAACG,WAAW,EAAE;IACxBD,MAAM,CAACF,EAAE,CAAC,CAACI,OAAO,CAAC,kBAAkB,CAAC;IACtCF,MAAM,CAACP,SAAS,CAAC,CAACU,iBAAiB,CAACX,YAAY,CAAC;EACnD,CAAC,CAAC;EAEFD,IAAI,CAAC,UAAU,EAAE,MAAM;IACrBN,eAAe,CACb,oBAAC,iBAAiB;MAChB,QAAQ;MACR,EAAE,EAAC,qBAAqB;MACxB,KAAK,EAAC;IAAe,EACrB,CACH;IAEDe,MAAM,CAACd,MAAM,CAACkB,cAAc,CAAC,eAAe,CAAC,CAAC,CAACC,YAAY,EAAE;EAC/D,CAAC,CAAC;EAEFd,IAAI,CAAC,UAAU,EAAE,MAAM;IACrBN,eAAe,CACb,oBAAC,iBAAiB;MAChB,EAAE,EAAC,qBAAqB;MACxB,KAAK,EAAC,eAAe;MACrB,QAAQ;IAAA,EACR,CACH;IAEDe,MAAM,CAACd,MAAM,CAACoB,WAAW,CAAC,cAAc,CAAC,CAAC,CAACC,WAAW,EAAE;EAC1D,CAAC,CAAC;EAEFhB,IAAI,CAAC,UAAU,EAAE,MAAM;IACrBN,eAAe,CAAC,oBAAC,qBAAqB,OAAG,CAAC;IAE1C,MAAMW,KAAK,GAAGV,MAAM,CAACsB,SAAS,CAAC,QAAQ,CAAC;IACxC,MAAMC,MAAM,GAAGvB,MAAM,CAACsB,SAAS,CAAC,QAAQ,CAAC;IACzC,MAAME,IAAI,GAAGxB,MAAM,CAACyB,SAAS,CAAC,MAAM,CAAC;IAErC3B,SAAS,CAAC4B,GAAG,EAAE;IACfZ,MAAM,CAACJ,KAAK,CAAC,CAACiB,WAAW,EAAE;IAC3B7B,SAAS,CAAC4B,GAAG,EAAE;IACfZ,MAAM,CAACS,MAAM,CAAC,CAACI,WAAW,EAAE;IAC5B7B,SAAS,CAAC4B,GAAG,EAAE;IACfZ,MAAM,CAACU,IAAI,CAAC,CAACG,WAAW,EAAE;EAC5B,CAAC,CAAC;AACJ,CAAC,CAAC"}