{"version":3,"file":"FieldSelectMulti.js","names":["React","forwardRef","styled","useID","useFormContext","SelectMulti","FloatingLabelField","omitFieldProps","pickFieldProps","getHasValue","values","defaultValues","undefined","length","checkValueOnBlur","e","target","currentTarget","options","querySelectorAll","FieldSelectMultiComponent","props","ref","validationMessage","id","type","displayName","FieldSelectMulti"],"sources":["../../../../../src/Form/Fields/FieldSelectMulti/FieldSelectMulti.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { FocusEvent, Ref } from 'react'\nimport React, { forwardRef } from 'react'\nimport styled from 'styled-components'\nimport { useID } from '../../../utils'\nimport { useFormContext } from '../../Form'\nimport type { SelectMultiProps } from '../../Inputs/Select/SelectMulti'\nimport { SelectMulti } from '../../Inputs/Select/SelectMulti'\nimport type { FloatingLabelFieldProps } from '../Field'\nimport { FloatingLabelField, omitFieldProps, pickFieldProps } from '../Field'\n\nexport interface FieldSelectMultiProps\n  extends FloatingLabelFieldProps,\n    SelectMultiProps {}\n\nconst getHasValue = ({ values, defaultValues }: SelectMultiProps) => {\n  if (values !== undefined) return values.length > 0\n  if (defaultValues !== undefined) return defaultValues.length > 0\n  return false\n}\n\nconst checkValueOnBlur = (e: FocusEvent) => {\n  const target = e.currentTarget\n  const options = target.querySelectorAll('[role=\"option\"]')\n  return options.length !== 0\n}\n\nconst FieldSelectMultiComponent = forwardRef(\n  (props: FieldSelectMultiProps, ref: Ref<HTMLInputElement>) => {\n    const validationMessage = useFormContext(props)\n    const id = useID(props.id)\n    return (\n      <FloatingLabelField\n        data-testid=\"FieldSelectMultiId\"\n        {...pickFieldProps(props)}\n        id={id}\n        ariaLabelOnly\n        validationMessage={validationMessage}\n        hasValue={getHasValue(props)}\n        checkValueOnBlur={checkValueOnBlur}\n      >\n        <SelectMulti\n          {...omitFieldProps(props)}\n          aria-describedby={`describedby-${id}`}\n          aria-labelledby={`labelledby-${id}`}\n          id={id}\n          validationType={validationMessage && validationMessage.type}\n          ref={ref}\n        />\n      </FloatingLabelField>\n    )\n  }\n)\n\nFieldSelectMultiComponent.displayName = 'FieldSelectMultiComponent'\n\nexport const FieldSelectMulti = styled(FieldSelectMultiComponent)`\n  width: 100%;\n`\n"],"mappings":";;;;AAMA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,cAAc,QAAQ,YAAY;AAE3C,SAASC,WAAW,QAAQ,iCAAiC;AAE7D,SAASC,kBAAkB,EAAEC,cAAc,EAAEC,cAAc,QAAQ,UAAU;AAM7E,MAAMC,WAAW,GAAG,CAAC;EAAEC,MAAM;EAAEC;AAAgC,CAAC,KAAK;EACnE,IAAID,MAAM,KAAKE,SAAS,EAAE,OAAOF,MAAM,CAACG,MAAM,GAAG,CAAC;EAClD,IAAIF,aAAa,KAAKC,SAAS,EAAE,OAAOD,aAAa,CAACE,MAAM,GAAG,CAAC;EAChE,OAAO,KAAK;AACd,CAAC;AAED,MAAMC,gBAAgB,GAAIC,CAAa,IAAK;EAC1C,MAAMC,MAAM,GAAGD,CAAC,CAACE,aAAa;EAC9B,MAAMC,OAAO,GAAGF,MAAM,CAACG,gBAAgB,CAAC,iBAAiB,CAAC;EAC1D,OAAOD,OAAO,CAACL,MAAM,KAAK,CAAC;AAC7B,CAAC;AAED,MAAMO,yBAAyB,GAAGnB,UAAU,CAC1C,CAACoB,KAA4B,EAAEC,GAA0B,KAAK;EAC5D,MAAMC,iBAAiB,GAAGnB,cAAc,CAACiB,KAAK,CAAC;EAC/C,MAAMG,EAAE,GAAGrB,KAAK,CAACkB,KAAK,CAACG,EAAE,CAAC;EAC1B,OACE,oBAAC,kBAAkB;IACjB,eAAY;EAAoB,GAC5BhB,cAAc,CAACa,KAAK,CAAC;IACzB,EAAE,EAAEG,EAAG;IACP,aAAa;IACb,iBAAiB,EAAED,iBAAkB;IACrC,QAAQ,EAAEd,WAAW,CAACY,KAAK,CAAE;IAC7B,gBAAgB,EAAEP;EAAiB,IAEnC,oBAAC,WAAW,eACNP,cAAc,CAACc,KAAK,CAAC;IACzB,oBAAmB,eAAcG,EAAG,EAAE;IACtC,mBAAkB,cAAaA,EAAG,EAAE;IACpC,EAAE,EAAEA,EAAG;IACP,cAAc,EAAED,iBAAiB,IAAIA,iBAAiB,CAACE,IAAK;IAC5D,GAAG,EAAEH;EAAI,GACT,CACiB;AAEzB,CAAC,CACF;AAEDF,yBAAyB,CAACM,WAAW,GAAG,2BAA2B;AAEnE,OAAO,MAAMC,gBAAgB,GAAGzB,MAAM,CAACkB,yBAAyB,CAAC;EAAA;EAAA;AAAA,gBAAC;AAClE;AACA,GAAC"}