{"version":3,"file":"useRippleHandlers.js","names":["useCallback","useWrapEvent","rippleHandlerKeys","useRippleHandlers","startBG","endBG","startFG","endFG","currentHandlers","disabled","handleKeyDown","e","key","handleMouseLeave","wrappedCallbacks","onBlur","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseEnter","onMouseLeave","onMouseUp"],"sources":["../../../src/Ripple/useRippleHandlers.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { KeyboardEvent } from 'react'\nimport { useCallback } from 'react'\nimport type { CompatibleHTMLProps } from '@looker/design-tokens'\nimport { useWrapEvent } from '../utils'\nimport type { RippleCallbacks } from './types'\n\nexport const rippleHandlerKeys = [\n  'onBlur',\n  'onFocus',\n  'onKeyDown',\n  'onKeyUp',\n  'onMouseDown',\n  'onMouseEnter',\n  'onMouseLeave',\n  'onMouseUp',\n] as const\n\nexport type RippleHandlers<E extends HTMLElement> = Pick<\n  CompatibleHTMLProps<E>,\n  typeof rippleHandlerKeys[number]\n>\n\n/**\n *\n * @param callbacks from useRipple, start and end functions for foreground and background\n * @param currentHandlers existing event handlers for the element will be wrapped\n * @param disabled\n * @returns wrapped event handlers\n */\nexport const useRippleHandlers = <E extends HTMLElement>(\n  { startBG, endBG, startFG, endFG }: RippleCallbacks,\n  currentHandlers: RippleHandlers<E>,\n  disabled?: boolean\n): RippleHandlers<E> => {\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent) => {\n      switch (e.key) {\n        // Only start the ripple for enter or space key\n        case 'Enter':\n        case ' ':\n          startFG()\n          break\n      }\n    },\n    [startFG]\n  )\n\n  const handleMouseLeave = useCallback(() => {\n    endBG()\n    // If the user hovers off of the element while pressing, end the ripple\n    endFG()\n  }, [endFG, endBG])\n\n  const wrappedCallbacks = {\n    onBlur: useWrapEvent(endBG, currentHandlers.onBlur),\n    onFocus: useWrapEvent(startBG, currentHandlers.onFocus),\n    onKeyDown: useWrapEvent(handleKeyDown, currentHandlers.onKeyDown),\n    onKeyUp: useWrapEvent(endFG, currentHandlers.onKeyUp),\n    onMouseDown: useWrapEvent(startFG, currentHandlers.onMouseDown),\n    onMouseEnter: useWrapEvent(startBG, currentHandlers.onMouseEnter),\n    onMouseLeave: useWrapEvent(handleMouseLeave, currentHandlers.onMouseLeave),\n    onMouseUp: useWrapEvent(endFG, currentHandlers.onMouseUp),\n  }\n\n  return disabled ? {} : wrappedCallbacks\n}\n"],"mappings":";;AAMA,SAASA,WAAW,QAAQ,OAAO;AAEnC,SAASC,YAAY,QAAQ,UAAU;AAGvC,OAAO,MAAMC,iBAAiB,GAAG,CAC/B,QAAQ,EACR,SAAS,EACT,WAAW,EACX,SAAS,EACT,aAAa,EACb,cAAc,EACd,cAAc,EACd,WAAW,CACH;AAcV,OAAO,MAAMC,iBAAiB,GAAG,CAC/B;EAAEC,OAAO;EAAEC,KAAK;EAAEC,OAAO;EAAEC;AAAuB,CAAC,EACnDC,eAAkC,EAClCC,QAAkB,KACI;EACtB,MAAMC,aAAa,GAAGV,WAAW,CAC9BW,CAAgB,IAAK;IACpB,QAAQA,CAAC,CAACC,GAAG;MAEX,KAAK,OAAO;MACZ,KAAK,GAAG;QACNN,OAAO,EAAE;QACT;IAAK;EAEX,CAAC,EACD,CAACA,OAAO,CAAC,CACV;EAED,MAAMO,gBAAgB,GAAGb,WAAW,CAAC,MAAM;IACzCK,KAAK,EAAE;IAEPE,KAAK,EAAE;EACT,CAAC,EAAE,CAACA,KAAK,EAAEF,KAAK,CAAC,CAAC;EAElB,MAAMS,gBAAgB,GAAG;IACvBC,MAAM,EAAEd,YAAY,CAACI,KAAK,EAAEG,eAAe,CAACO,MAAM,CAAC;IACnDC,OAAO,EAAEf,YAAY,CAACG,OAAO,EAAEI,eAAe,CAACQ,OAAO,CAAC;IACvDC,SAAS,EAAEhB,YAAY,CAACS,aAAa,EAAEF,eAAe,CAACS,SAAS,CAAC;IACjEC,OAAO,EAAEjB,YAAY,CAACM,KAAK,EAAEC,eAAe,CAACU,OAAO,CAAC;IACrDC,WAAW,EAAElB,YAAY,CAACK,OAAO,EAAEE,eAAe,CAACW,WAAW,CAAC;IAC/DC,YAAY,EAAEnB,YAAY,CAACG,OAAO,EAAEI,eAAe,CAACY,YAAY,CAAC;IACjEC,YAAY,EAAEpB,YAAY,CAACY,gBAAgB,EAAEL,eAAe,CAACa,YAAY,CAAC;IAC1EC,SAAS,EAAErB,YAAY,CAACM,KAAK,EAAEC,eAAe,CAACc,SAAS;EAC1D,CAAC;EAED,OAAOb,QAAQ,GAAG,CAAC,CAAC,GAAGK,gBAAgB;AACzC,CAAC"}