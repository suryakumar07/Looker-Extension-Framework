{"version":3,"file":"ButtonTransparent.spec.js","names":["renderWithTheme","React","fireEvent","screen","act","ButtonTransparent","beforeEach","jest","useFakeTimers","afterEach","runOnlyPendingTimers","useRealTimers","runTimers","describe","test","button","getByRole","expect","not","toHaveClass","toHaveStyle","focus","mouseDown","mouseUp","blur"],"sources":["../../../src/Button/ButtonTransparent.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport 'jest-styled-components'\nimport '@testing-library/jest-dom/extend-expect'\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport React from 'react'\nimport { fireEvent, screen, act } from '@testing-library/react'\nimport { ButtonTransparent } from './ButtonTransparent'\n\nbeforeEach(() => {\n  jest.useFakeTimers()\n})\nafterEach(() => {\n  jest.runOnlyPendingTimers()\n  jest.useRealTimers()\n})\nconst runTimers = () =>\n  act(() => {\n    jest.runOnlyPendingTimers()\n  })\n\ndescribe('ButtonTransparent', () => {\n  test('ripple effect default', () => {\n    renderWithTheme(<ButtonTransparent>Test</ButtonTransparent>)\n\n    const button = screen.getByRole('button')\n    expect(button).not.toHaveClass('bg-on fg-in')\n    expect(button).toHaveStyle({\n      '--ripple-color': '#6C43E0',\n      '--ripple-scale-end': '1',\n      '--ripple-scale-start': '0.1',\n      '--ripple-size': '100%',\n      '--ripple-translate': '0, 0',\n    })\n\n    fireEvent.focus(button)\n    expect(button).toHaveClass('bg-on')\n\n    fireEvent.mouseDown(button)\n    expect(button).toHaveClass('bg-on fg-in')\n\n    // foreground is locked for a minimum time to animate the ripple\n    fireEvent.mouseUp(button)\n    runTimers()\n    expect(button).toHaveClass('bg-on fg-out')\n    runTimers()\n    expect(button).toHaveClass('bg-on')\n\n    fireEvent.blur(button)\n    expect(button).not.toHaveClass('bg-on fg-in')\n  })\n\n  test('Color critical', () => {\n    renderWithTheme(\n      <ButtonTransparent color=\"critical\">Test</ButtonTransparent>\n    )\n\n    const button = screen.getByRole('button')\n    expect(button).toHaveStyle({ '--ripple-color': '#CC1F36' })\n  })\n})\n"],"mappings":";;AAKA,OAAO,wBAAwB;AAC/B,OAAO,yCAAyC;AAChD,SAASA,eAAe,QAAQ,+BAA+B;AAC/D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,MAAM,EAAEC,GAAG,QAAQ,wBAAwB;AAC/D,SAASC,iBAAiB,QAAQ,qBAAqB;AAEvDC,UAAU,CAAC,MAAM;EACfC,IAAI,CAACC,aAAa,EAAE;AACtB,CAAC,CAAC;AACFC,SAAS,CAAC,MAAM;EACdF,IAAI,CAACG,oBAAoB,EAAE;EAC3BH,IAAI,CAACI,aAAa,EAAE;AACtB,CAAC,CAAC;AACF,MAAMC,SAAS,GAAG,MAChBR,GAAG,CAAC,MAAM;EACRG,IAAI,CAACG,oBAAoB,EAAE;AAC7B,CAAC,CAAC;AAEJG,QAAQ,CAAC,mBAAmB,EAAE,MAAM;EAClCC,IAAI,CAAC,uBAAuB,EAAE,MAAM;IAClCd,eAAe,CAAC,oBAAC,iBAAiB,eAAyB,CAAC;IAE5D,MAAMe,MAAM,GAAGZ,MAAM,CAACa,SAAS,CAAC,QAAQ,CAAC;IACzCC,MAAM,CAACF,MAAM,CAAC,CAACG,GAAG,CAACC,WAAW,CAAC,aAAa,CAAC;IAC7CF,MAAM,CAACF,MAAM,CAAC,CAACK,WAAW,CAAC;MACzB,gBAAgB,EAAE,SAAS;MAC3B,oBAAoB,EAAE,GAAG;MACzB,sBAAsB,EAAE,KAAK;MAC7B,eAAe,EAAE,MAAM;MACvB,oBAAoB,EAAE;IACxB,CAAC,CAAC;IAEFlB,SAAS,CAACmB,KAAK,CAACN,MAAM,CAAC;IACvBE,MAAM,CAACF,MAAM,CAAC,CAACI,WAAW,CAAC,OAAO,CAAC;IAEnCjB,SAAS,CAACoB,SAAS,CAACP,MAAM,CAAC;IAC3BE,MAAM,CAACF,MAAM,CAAC,CAACI,WAAW,CAAC,aAAa,CAAC;;IAGzCjB,SAAS,CAACqB,OAAO,CAACR,MAAM,CAAC;IACzBH,SAAS,EAAE;IACXK,MAAM,CAACF,MAAM,CAAC,CAACI,WAAW,CAAC,cAAc,CAAC;IAC1CP,SAAS,EAAE;IACXK,MAAM,CAACF,MAAM,CAAC,CAACI,WAAW,CAAC,OAAO,CAAC;IAEnCjB,SAAS,CAACsB,IAAI,CAACT,MAAM,CAAC;IACtBE,MAAM,CAACF,MAAM,CAAC,CAACG,GAAG,CAACC,WAAW,CAAC,aAAa,CAAC;EAC/C,CAAC,CAAC;EAEFL,IAAI,CAAC,gBAAgB,EAAE,MAAM;IAC3Bd,eAAe,CACb,oBAAC,iBAAiB;MAAC,KAAK,EAAC;IAAU,UAAyB,CAC7D;IAED,MAAMe,MAAM,GAAGZ,MAAM,CAACa,SAAS,CAAC,QAAQ,CAAC;IACzCC,MAAM,CAACF,MAAM,CAAC,CAACK,WAAW,CAAC;MAAE,gBAAgB,EAAE;IAAU,CAAC,CAAC;EAC7D,CAAC,CAAC;AACJ,CAAC,CAAC"}