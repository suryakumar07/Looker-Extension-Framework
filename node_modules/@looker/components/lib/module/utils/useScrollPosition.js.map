{"version":3,"file":"useScrollPosition.js","names":["throttle","useEffect","useState","useScrollPosition","element","scrollPosition","setScrollPosition","scrollListener","scrollTop","leading","trailing","addEventListener","removeEventListener"],"sources":["../../../src/utils/useScrollPosition.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport throttle from 'lodash/throttle'\nimport { useEffect, useState } from 'react'\n\n/**\n * Returns the scroll top position of an element\n * @param element the element that is being scrolled\n */\nexport const useScrollPosition = (element: HTMLElement | null) => {\n  const [scrollPosition, setScrollPosition] = useState(0)\n  useEffect(() => {\n    const scrollListener = throttle(\n      () => {\n        if (element) {\n          setScrollPosition(element.scrollTop)\n        }\n      },\n      50,\n      { leading: true, trailing: true }\n    )\n\n    if (element) {\n      element.addEventListener('scroll', scrollListener)\n      scrollListener()\n    }\n\n    return () => {\n      element && element.removeEventListener('scroll', scrollListener)\n      setScrollPosition(0)\n    }\n  }, [element])\n\n  return scrollPosition\n}\n"],"mappings":";;AAKA,OAAOA,QAAQ,MAAM,iBAAiB;AACtC,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;;AAM3C,OAAO,MAAMC,iBAAiB,GAAIC,OAA2B,IAAK;EAChE,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGJ,QAAQ,CAAC,CAAC,CAAC;EACvDD,SAAS,CAAC,MAAM;IACd,MAAMM,cAAc,GAAGP,QAAQ,CAC7B,MAAM;MACJ,IAAII,OAAO,EAAE;QACXE,iBAAiB,CAACF,OAAO,CAACI,SAAS,CAAC;MACtC;IACF,CAAC,EACD,EAAE,EACF;MAAEC,OAAO,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAK,CAAC,CAClC;IAED,IAAIN,OAAO,EAAE;MACXA,OAAO,CAACO,gBAAgB,CAAC,QAAQ,EAAEJ,cAAc,CAAC;MAClDA,cAAc,EAAE;IAClB;IAEA,OAAO,MAAM;MACXH,OAAO,IAAIA,OAAO,CAACQ,mBAAmB,CAAC,QAAQ,EAAEL,cAAc,CAAC;MAChED,iBAAiB,CAAC,CAAC,CAAC;IACtB,CAAC;EACH,CAAC,EAAE,CAACF,OAAO,CAAC,CAAC;EAEb,OAAOC,cAAc;AACvB,CAAC"}