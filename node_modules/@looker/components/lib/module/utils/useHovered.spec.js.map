{"version":3,"file":"useHovered.spec.js","names":["act","fireEvent","render","screen","React","useRef","useHovered","HoveredComponent","hoverRef","isHovered","describe","beforeEach","jest","useFakeTimers","afterEach","useRealTimers","runTimers","runOnlyPendingTimers","it","expect","queryByText","not","toBeInTheDocument","hoverMe","getByText","mouseEnter","toBeVisible","mouseLeave","focus","button","blur"],"sources":["../../../src/utils/useHovered.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { act, fireEvent, render, screen } from '@testing-library/react'\nimport React, { useRef } from 'react'\nimport { useHovered } from './useHovered'\n\nconst HoveredComponent = () => {\n  const hoverRef = useRef<HTMLDivElement>(null)\n  const [isHovered] = useHovered(hoverRef)\n  return (\n    <div ref={hoverRef} tabIndex={0}>\n      hover me\n      {isHovered && <button>button</button>}\n    </div>\n  )\n}\n\ndescribe('useHovered', () => {\n  beforeEach(() => {\n    jest.useFakeTimers()\n  })\n\n  afterEach(() => {\n    jest.useRealTimers()\n  })\n\n  const runTimers = () =>\n    act(() => {\n      jest.runOnlyPendingTimers()\n    })\n\n  it('toggles on hover', () => {\n    render(<HoveredComponent />)\n    expect(screen.queryByText('button')).not.toBeInTheDocument()\n\n    const hoverMe = screen.getByText('hover me')\n    fireEvent.mouseEnter(hoverMe)\n    expect(screen.getByText('button')).toBeVisible()\n    fireEvent.mouseLeave(hoverMe)\n    runTimers()\n    expect(screen.queryByText('button')).not.toBeInTheDocument()\n  })\n\n  it('toggles on focus', () => {\n    render(<HoveredComponent />)\n    expect(screen.queryByText('button')).not.toBeInTheDocument()\n\n    const hoverMe = screen.getByText('hover me')\n    fireEvent.focus(hoverMe)\n\n    const button = screen.getByText('button')\n    expect(button).toBeVisible()\n    fireEvent.focus(button)\n\n    // With the button focused, hovering in & out should have no effect\n    fireEvent.mouseEnter(hoverMe)\n    expect(button).toBeVisible()\n    fireEvent.mouseLeave(hoverMe)\n    expect(button).toBeVisible()\n\n    fireEvent.blur(button)\n    runTimers()\n    expect(screen.queryByText('button')).not.toBeInTheDocument()\n  })\n})\n"],"mappings":";;AAKA,SAASA,GAAG,EAAEC,SAAS,EAAEC,MAAM,EAAEC,MAAM,QAAQ,wBAAwB;AACvE,OAAOC,KAAK,IAAIC,MAAM,QAAQ,OAAO;AACrC,SAASC,UAAU,QAAQ,cAAc;AAEzC,MAAMC,gBAAgB,GAAG,MAAM;EAC7B,MAAMC,QAAQ,GAAGH,MAAM,CAAiB,IAAI,CAAC;EAC7C,MAAM,CAACI,SAAS,CAAC,GAAGH,UAAU,CAACE,QAAQ,CAAC;EACxC,OACE;IAAK,GAAG,EAAEA,QAAS;IAAC,QAAQ,EAAE;EAAE,eAE7BC,SAAS,IAAI,6CAAuB,CACjC;AAEV,CAAC;AAEDC,QAAQ,CAAC,YAAY,EAAE,MAAM;EAC3BC,UAAU,CAAC,MAAM;IACfC,IAAI,CAACC,aAAa,EAAE;EACtB,CAAC,CAAC;EAEFC,SAAS,CAAC,MAAM;IACdF,IAAI,CAACG,aAAa,EAAE;EACtB,CAAC,CAAC;EAEF,MAAMC,SAAS,GAAG,MAChBhB,GAAG,CAAC,MAAM;IACRY,IAAI,CAACK,oBAAoB,EAAE;EAC7B,CAAC,CAAC;EAEJC,EAAE,CAAC,kBAAkB,EAAE,MAAM;IAC3BhB,MAAM,CAAC,oBAAC,gBAAgB,OAAG,CAAC;IAC5BiB,MAAM,CAAChB,MAAM,CAACiB,WAAW,CAAC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAACC,iBAAiB,EAAE;IAE5D,MAAMC,OAAO,GAAGpB,MAAM,CAACqB,SAAS,CAAC,UAAU,CAAC;IAC5CvB,SAAS,CAACwB,UAAU,CAACF,OAAO,CAAC;IAC7BJ,MAAM,CAAChB,MAAM,CAACqB,SAAS,CAAC,QAAQ,CAAC,CAAC,CAACE,WAAW,EAAE;IAChDzB,SAAS,CAAC0B,UAAU,CAACJ,OAAO,CAAC;IAC7BP,SAAS,EAAE;IACXG,MAAM,CAAChB,MAAM,CAACiB,WAAW,CAAC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAACC,iBAAiB,EAAE;EAC9D,CAAC,CAAC;EAEFJ,EAAE,CAAC,kBAAkB,EAAE,MAAM;IAC3BhB,MAAM,CAAC,oBAAC,gBAAgB,OAAG,CAAC;IAC5BiB,MAAM,CAAChB,MAAM,CAACiB,WAAW,CAAC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAACC,iBAAiB,EAAE;IAE5D,MAAMC,OAAO,GAAGpB,MAAM,CAACqB,SAAS,CAAC,UAAU,CAAC;IAC5CvB,SAAS,CAAC2B,KAAK,CAACL,OAAO,CAAC;IAExB,MAAMM,MAAM,GAAG1B,MAAM,CAACqB,SAAS,CAAC,QAAQ,CAAC;IACzCL,MAAM,CAACU,MAAM,CAAC,CAACH,WAAW,EAAE;IAC5BzB,SAAS,CAAC2B,KAAK,CAACC,MAAM,CAAC;;IAGvB5B,SAAS,CAACwB,UAAU,CAACF,OAAO,CAAC;IAC7BJ,MAAM,CAACU,MAAM,CAAC,CAACH,WAAW,EAAE;IAC5BzB,SAAS,CAAC0B,UAAU,CAACJ,OAAO,CAAC;IAC7BJ,MAAM,CAACU,MAAM,CAAC,CAACH,WAAW,EAAE;IAE5BzB,SAAS,CAAC6B,IAAI,CAACD,MAAM,CAAC;IACtBb,SAAS,EAAE;IACXG,MAAM,CAAChB,MAAM,CAACiB,WAAW,CAAC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAACC,iBAAiB,EAAE;EAC9D,CAAC,CAAC;AACJ,CAAC,CAAC"}