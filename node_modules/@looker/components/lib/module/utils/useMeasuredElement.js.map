{"version":3,"file":"useMeasuredElement.js","names":["useCallback","useState","useResize","measureElement","element","DOMRect","bottom","height","left","rect","right","toJSON","top","width","x","y","getBoundingClientRect","useMeasuredElement","setRect","refreshDomRect"],"sources":["../../../src/utils/useMeasuredElement.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { useCallback, useState } from 'react'\nimport { useResize } from './useResize'\n\nexport const measureElement = (element?: HTMLElement | null) => {\n  if (!element) {\n    return typeof DOMRect === 'function'\n      ? new DOMRect()\n      : {\n          bottom: 0,\n          height: 0,\n          left: 0,\n          rect: {},\n          right: 0,\n          toJSON: () => null,\n          top: 0,\n          width: 0,\n          x: 0,\n          y: 0,\n        }\n  }\n\n  return element.getBoundingClientRect()\n}\n\nexport const useMeasuredElement = (\n  element: HTMLElement | null\n): [DOMRect, () => void] => {\n  const [rect, setRect] = useState(measureElement())\n\n  const refreshDomRect = useCallback(() => {\n    // Update client rect\n    element && setRect(measureElement(element))\n  }, [element])\n\n  useResize(element, refreshDomRect)\n\n  return [rect, refreshDomRect]\n}\n"],"mappings":";;AAKA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,SAASC,SAAS,QAAQ,aAAa;AAEvC,OAAO,MAAMC,cAAc,GAAIC,OAA4B,IAAK;EAC9D,IAAI,CAACA,OAAO,EAAE;IACZ,OAAO,OAAOC,OAAO,KAAK,UAAU,GAChC,IAAIA,OAAO,EAAE,GACb;MACEC,MAAM,EAAE,CAAC;MACTC,MAAM,EAAE,CAAC;MACTC,IAAI,EAAE,CAAC;MACPC,IAAI,EAAE,CAAC,CAAC;MACRC,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE,MAAM,IAAI;MAClBC,GAAG,EAAE,CAAC;MACNC,KAAK,EAAE,CAAC;MACRC,CAAC,EAAE,CAAC;MACJC,CAAC,EAAE;IACL,CAAC;EACP;EAEA,OAAOX,OAAO,CAACY,qBAAqB,EAAE;AACxC,CAAC;AAED,OAAO,MAAMC,kBAAkB,GAC7Bb,OAA2B,IACD;EAC1B,MAAM,CAACK,IAAI,EAAES,OAAO,CAAC,GAAGjB,QAAQ,CAACE,cAAc,EAAE,CAAC;EAElD,MAAMgB,cAAc,GAAGnB,WAAW,CAAC,MAAM;IAEvCI,OAAO,IAAIc,OAAO,CAACf,cAAc,CAACC,OAAO,CAAC,CAAC;EAC7C,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEbF,SAAS,CAACE,OAAO,EAAEe,cAAc,CAAC;EAElC,OAAO,CAACV,IAAI,EAAEU,cAAc,CAAC;AAC/B,CAAC"}