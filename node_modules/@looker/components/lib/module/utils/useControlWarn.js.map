{"version":3,"file":"useControlWarn.js","names":["useRef","un","cont","warnComponentControl","componentName","controllingProps","propsText","slice","join","check","changingToControlled","from","to","warning","console","warn","useControlWarn","isControlledCheck","name","current","isControlled","bgWarn"],"sources":["../../../src/utils/useControlWarn.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { useRef } from 'react'\n\nconst un = 'uncontrolled'\nconst cont = 'controlled'\n\nfunction warnComponentControl(\n  componentName: string,\n  controllingProps: string[]\n) {\n  const propsText =\n    controllingProps.slice(0, -1).join(',') +\n    ' and ' +\n    controllingProps.slice(-1)\n  const check = `Check the ${propsText} being passed in.`\n  return (changingToControlled: boolean) => {\n    const from = changingToControlled ? un : cont\n    const to = changingToControlled ? cont : un\n    const warning = `${componentName} is changing from ${from} to ${to}. \\\n      ${componentName} should not switch from ${from} to ${to} (or vice versa). \\\n      Decide between using a ${cont} or ${un} ${componentName} for the \\\n      lifetime of the component. `\n    // eslint-disable-next-line no-console\n    console.warn(`${warning} ${check}`)\n  }\n}\n\nexport interface UseControlWarnProps {\n  isControlledCheck: () => boolean\n  name: string\n  controllingProps: string[]\n}\n\nexport function useControlWarn({\n  isControlledCheck,\n  name,\n  controllingProps,\n}: UseControlWarnProps) {\n  const { current: isControlled } = useRef(isControlledCheck())\n  const bgWarn = warnComponentControl(name, controllingProps)\n\n  if (isControlled && !isControlledCheck()) {\n    bgWarn(false)\n  }\n\n  if (!isControlled && isControlledCheck()) {\n    bgWarn(true)\n  }\n\n  return isControlled\n}\n"],"mappings":";;AAKA,SAASA,MAAM,QAAQ,OAAO;AAE9B,MAAMC,EAAE,GAAG,cAAc;AACzB,MAAMC,IAAI,GAAG,YAAY;AAEzB,SAASC,oBAAoB,CAC3BC,aAAqB,EACrBC,gBAA0B,EAC1B;EACA,MAAMC,SAAS,GACbD,gBAAgB,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,GACvC,OAAO,GACPH,gBAAgB,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC;EAC5B,MAAME,KAAK,GAAI,aAAYH,SAAU,mBAAkB;EACvD,OAAQI,oBAA6B,IAAK;IACxC,MAAMC,IAAI,GAAGD,oBAAoB,GAAGT,EAAE,GAAGC,IAAI;IAC7C,MAAMU,EAAE,GAAGF,oBAAoB,GAAGR,IAAI,GAAGD,EAAE;IAC3C,MAAMY,OAAO,GAAI,GAAET,aAAc,qBAAoBO,IAAK,OAAMC,EAAG;AACvE,QAAQR,aAAc,2BAA0BO,IAAK,OAAMC,EAAG;AAC9D,+BAA+BV,IAAK,OAAMD,EAAG,IAAGG,aAAc;AAC9D,kCAAkC;IAE9BU,OAAO,CAACC,IAAI,CAAE,GAAEF,OAAQ,IAAGJ,KAAM,EAAC,CAAC;EACrC,CAAC;AACH;AAQA,OAAO,SAASO,cAAc,CAAC;EAC7BC,iBAAiB;EACjBC,IAAI;EACJb;AACmB,CAAC,EAAE;EACtB,MAAM;IAAEc,OAAO,EAAEC;EAAa,CAAC,GAAGpB,MAAM,CAACiB,iBAAiB,EAAE,CAAC;EAC7D,MAAMI,MAAM,GAAGlB,oBAAoB,CAACe,IAAI,EAAEb,gBAAgB,CAAC;EAE3D,IAAIe,YAAY,IAAI,CAACH,iBAAiB,EAAE,EAAE;IACxCI,MAAM,CAAC,KAAK,CAAC;EACf;EAEA,IAAI,CAACD,YAAY,IAAIH,iBAAiB,EAAE,EAAE;IACxCI,MAAM,CAAC,IAAI,CAAC;EACd;EAEA,OAAOD,YAAY;AACrB"}