{"version":3,"file":"useForkedRef.js","names":["useMemo","assignRef","ref","value","current","error","Error","useForkedRef","refs","node","forEach"],"sources":["../../../src/utils/useForkedRef.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\n// Much of the following is pulled from https://github.com/reach/reach-ui\n// because their work is fantastic (but is not in TypeScript)\n\nimport type { Ref, MutableRefObject } from 'react'\nimport { useMemo } from 'react'\n\nexport type RefToFork<E> = Ref<E> | MutableRefObject<E> | undefined\n\nfunction assignRef<E extends HTMLElement>(ref: RefToFork<E>, value: E | null) {\n  if (!ref) return\n  if (typeof ref === 'function') {\n    ref(value)\n  } else {\n    try {\n      ;(ref as MutableRefObject<E | null>).current = value\n    } catch (error) {\n      throw new Error(`Cannot assign value \"${value}\" to ref \"${ref}\"`)\n    }\n  }\n}\n\nexport function useForkedRef<E extends HTMLElement>(...refs: RefToFork<E>[]) {\n  return useMemo(() => {\n    return (node: E | null) => {\n      refs.forEach(ref => {\n        assignRef(ref, node)\n      })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, refs)\n}\n"],"mappings":";;AASA,SAASA,OAAO,QAAQ,OAAO;AAI/B,SAASC,SAAS,CAAwBC,GAAiB,EAAEC,KAAe,EAAE;EAC5E,IAAI,CAACD,GAAG,EAAE;EACV,IAAI,OAAOA,GAAG,KAAK,UAAU,EAAE;IAC7BA,GAAG,CAACC,KAAK,CAAC;EACZ,CAAC,MAAM;IACL,IAAI;MACF;MAAED,GAAG,CAAgCE,OAAO,GAAGD,KAAK;IACtD,CAAC,CAAC,OAAOE,KAAK,EAAE;MACd,MAAM,IAAIC,KAAK,CAAE,wBAAuBH,KAAM,aAAYD,GAAI,GAAE,CAAC;IACnE;EACF;AACF;AAEA,OAAO,SAASK,YAAY,CAAwB,GAAGC,IAAoB,EAAE;EAC3E,OAAOR,OAAO,CAAC,MAAM;IACnB,OAAQS,IAAc,IAAK;MACzBD,IAAI,CAACE,OAAO,CAACR,GAAG,IAAI;QAClBD,SAAS,CAACC,GAAG,EAAEO,IAAI,CAAC;MACtB,CAAC,CAAC;IACJ,CAAC;EAEH,CAAC,EAAED,IAAI,CAAC;AACV"}