{"version":3,"file":"useTreeHandlers.js","names":["useState","useWrapEvent","useTreeHandlers","props","hovered","setHovered","onBlur","event","nextFocusTarget","relatedTarget","currentTarget","contains","onFocus","onMouseEnter","onMouseLeave","contentHandlers","wrapperHandlers"],"sources":["../../../../src/Tree/utils/useTreeHandlers.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { CompatibleHTMLProps } from '@looker/design-tokens'\nimport type { FocusEvent } from 'react'\nimport { useState } from 'react'\nimport { useWrapEvent } from '../../utils'\n\nexport const useTreeHandlers = (\n  props: Pick<\n    CompatibleHTMLProps<HTMLElement>,\n    'onFocus' | 'onMouseEnter' | 'onMouseLeave'\n  >\n) => {\n  const [hovered, setHovered] = useState(false)\n\n  // This is needed so that hover disclosed elements don't get lost during keyboard nav\n  const onBlur = (event: FocusEvent<HTMLElement>) => {\n    const nextFocusTarget = event.relatedTarget\n\n    if (nextFocusTarget && !event.currentTarget.contains(nextFocusTarget)) {\n      setHovered(false)\n    }\n  }\n  const onFocus = useWrapEvent(\n    useWrapEvent(() => setHovered(true), props.onFocus)\n  )\n\n  const onMouseEnter = useWrapEvent(() => setHovered(true), props.onMouseEnter)\n  const onMouseLeave = useWrapEvent(() => setHovered(false), props.onMouseLeave)\n\n  return {\n    contentHandlers: {\n      onFocus,\n    },\n    hovered,\n    wrapperHandlers: {\n      onBlur,\n      onMouseEnter,\n      onMouseLeave,\n    },\n  }\n}\n"],"mappings":";;AAOA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,YAAY,QAAQ,aAAa;AAE1C,OAAO,MAAMC,eAAe,GAC1BC,KAGC,IACE;EACH,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;;EAG7C,MAAMM,MAAM,GAAIC,KAA8B,IAAK;IACjD,MAAMC,eAAe,GAAGD,KAAK,CAACE,aAAa;IAE3C,IAAID,eAAe,IAAI,CAACD,KAAK,CAACG,aAAa,CAACC,QAAQ,CAACH,eAAe,CAAC,EAAE;MACrEH,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EACD,MAAMO,OAAO,GAAGX,YAAY,CAC1BA,YAAY,CAAC,MAAMI,UAAU,CAAC,IAAI,CAAC,EAAEF,KAAK,CAACS,OAAO,CAAC,CACpD;EAED,MAAMC,YAAY,GAAGZ,YAAY,CAAC,MAAMI,UAAU,CAAC,IAAI,CAAC,EAAEF,KAAK,CAACU,YAAY,CAAC;EAC7E,MAAMC,YAAY,GAAGb,YAAY,CAAC,MAAMI,UAAU,CAAC,KAAK,CAAC,EAAEF,KAAK,CAACW,YAAY,CAAC;EAE9E,OAAO;IACLC,eAAe,EAAE;MACfH;IACF,CAAC;IACDR,OAAO;IACPY,eAAe,EAAE;MACfV,MAAM;MACNO,YAAY;MACZC;IACF;EACF,CAAC;AACH,CAAC"}