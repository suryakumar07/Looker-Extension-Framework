{"version":3,"file":"TreeCollection.js","names":["React","forwardRef","useRef","styled","getNextItemFocus","getItems","useArrowKeyNav","useForkedRef","TreeCollectionInternal","props","forwardedRef","internalRef","handleKeyDown","event","treeItems","current","key","firstItem","focus","lastItem","length","navProps","axis","getNextFocus","onKeyDown","ref","TreeCollection"],"sources":["../../../src/Tree/TreeCollection.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { CompatibleHTMLProps } from '@looker/design-tokens'\nimport type { KeyboardEvent, Ref } from 'react'\nimport React, { forwardRef, useRef } from 'react'\nimport styled from 'styled-components'\nimport { getNextItemFocus, getItems } from '../List/utils'\nimport { useArrowKeyNav, useForkedRef } from '../utils'\n\nexport type TreeCollectionProps = CompatibleHTMLProps<HTMLUListElement>\n\nconst TreeCollectionInternal = forwardRef(\n  (props: TreeCollectionProps, forwardedRef: Ref<HTMLUListElement>) => {\n    const internalRef = useRef<HTMLUListElement>(null)\n\n    // Additional key shortcuts\n    const handleKeyDown = (event: KeyboardEvent<HTMLElement>) => {\n      const treeItems = getItems(internalRef.current as HTMLElement)\n      if (event.key === 'Home') {\n        const firstItem = treeItems[0]\n        firstItem && firstItem.focus()\n      } else if (event.key === 'End') {\n        const lastItem = treeItems[treeItems.length - 1]\n        lastItem && lastItem.focus()\n      }\n    }\n\n    const navProps = useArrowKeyNav<HTMLUListElement>({\n      axis: 'both',\n      getNextFocus: getNextItemFocus,\n      onKeyDown: handleKeyDown,\n      ref: useForkedRef(internalRef, forwardedRef),\n    })\n\n    return <ul role=\"tree\" {...props} {...navProps} />\n  }\n)\n\nexport const TreeCollection = styled(TreeCollectionInternal)`\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n`\n"],"mappings":";;;;AAOA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,MAAM,QAAQ,OAAO;AACjD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,gBAAgB,EAAEC,QAAQ,QAAQ,eAAe;AAC1D,SAASC,cAAc,EAAEC,YAAY,QAAQ,UAAU;AAIvD,MAAMC,sBAAsB,GAAGP,UAAU,CACvC,CAACQ,KAA0B,EAAEC,YAAmC,KAAK;EACnE,MAAMC,WAAW,GAAGT,MAAM,CAAmB,IAAI,CAAC;;EAGlD,MAAMU,aAAa,GAAIC,KAAiC,IAAK;IAC3D,MAAMC,SAAS,GAAGT,QAAQ,CAACM,WAAW,CAACI,OAAO,CAAgB;IAC9D,IAAIF,KAAK,CAACG,GAAG,KAAK,MAAM,EAAE;MACxB,MAAMC,SAAS,GAAGH,SAAS,CAAC,CAAC,CAAC;MAC9BG,SAAS,IAAIA,SAAS,CAACC,KAAK,EAAE;IAChC,CAAC,MAAM,IAAIL,KAAK,CAACG,GAAG,KAAK,KAAK,EAAE;MAC9B,MAAMG,QAAQ,GAAGL,SAAS,CAACA,SAAS,CAACM,MAAM,GAAG,CAAC,CAAC;MAChDD,QAAQ,IAAIA,QAAQ,CAACD,KAAK,EAAE;IAC9B;EACF,CAAC;EAED,MAAMG,QAAQ,GAAGf,cAAc,CAAmB;IAChDgB,IAAI,EAAE,MAAM;IACZC,YAAY,EAAEnB,gBAAgB;IAC9BoB,SAAS,EAAEZ,aAAa;IACxBa,GAAG,EAAElB,YAAY,CAACI,WAAW,EAAED,YAAY;EAC7C,CAAC,CAAC;EAEF,OAAO;IAAI,IAAI,EAAC;EAAM,GAAKD,KAAK,EAAMY,QAAQ,EAAI;AACpD,CAAC,CACF;AAED,OAAO,MAAMK,cAAc,GAAGvB,MAAM,CAACK,sBAAsB,CAAC;EAAA;EAAA;AAAA,gBAAC;AAC7D;AACA;AACA;AACA,GAAC"}