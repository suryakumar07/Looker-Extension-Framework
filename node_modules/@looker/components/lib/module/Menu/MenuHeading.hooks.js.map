{"version":3,"file":"MenuHeading.hooks.js","names":["useEffect","useState","useCallbackRef","useElementVisibility","element","ref","isVisible","setIsVisible","observer","IntersectionObserver","entry","intersectionRatio","threshold","observe","unobserve"],"sources":["../../../src/Menu/MenuHeading.hooks.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { useEffect, useState } from 'react'\nimport { useCallbackRef } from '../utils'\n\nexport const useElementVisibility = (): [\n  boolean,\n  (node: HTMLElement | null) => void\n] => {\n  const [element, ref] = useCallbackRef()\n  const [isVisible, setIsVisible] = useState(true)\n\n  useEffect(() => {\n    const observer =\n      typeof IntersectionObserver === 'undefined'\n        ? null\n        : new IntersectionObserver(\n            ([entry]) => {\n              setIsVisible(entry.intersectionRatio > 0)\n            },\n            {\n              threshold: [0, 1],\n            }\n          )\n\n    if (element && observer) {\n      observer.observe && observer.observe(element)\n    }\n    return () => {\n      if (element && observer) {\n        observer.unobserve && observer.unobserve(element)\n      }\n    }\n  }, [element])\n\n  return [isVisible, ref]\n}\n"],"mappings":";;AAKA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,cAAc,QAAQ,UAAU;AAEzC,OAAO,MAAMC,oBAAoB,GAAG,MAG/B;EACH,MAAM,CAACC,OAAO,EAAEC,GAAG,CAAC,GAAGH,cAAc,EAAE;EACvC,MAAM,CAACI,SAAS,EAAEC,YAAY,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAEhDD,SAAS,CAAC,MAAM;IACd,MAAMQ,QAAQ,GACZ,OAAOC,oBAAoB,KAAK,WAAW,GACvC,IAAI,GACJ,IAAIA,oBAAoB,CACtB,CAAC,CAACC,KAAK,CAAC,KAAK;MACXH,YAAY,CAACG,KAAK,CAACC,iBAAiB,GAAG,CAAC,CAAC;IAC3C,CAAC,EACD;MACEC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;IAClB,CAAC,CACF;IAEP,IAAIR,OAAO,IAAII,QAAQ,EAAE;MACvBA,QAAQ,CAACK,OAAO,IAAIL,QAAQ,CAACK,OAAO,CAACT,OAAO,CAAC;IAC/C;IACA,OAAO,MAAM;MACX,IAAIA,OAAO,IAAII,QAAQ,EAAE;QACvBA,QAAQ,CAACM,SAAS,IAAIN,QAAQ,CAACM,SAAS,CAACV,OAAO,CAAC;MACnD;IACF,CAAC;EACH,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,OAAO,CAACE,SAAS,EAAED,GAAG,CAAC;AACzB,CAAC"}