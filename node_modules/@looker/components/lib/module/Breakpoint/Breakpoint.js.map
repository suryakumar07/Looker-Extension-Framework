{"version":3,"file":"Breakpoint.js","names":["React","useCallback","useState","convertRemToPx","BreakpointRamp","isArray","useTheme","useResize","Breakpoint","children","show","from","to","screenWidth","setScreenWidth","document","body","clientWidth","theme","breakpointPx","breakpoints","map","b","parseInt","replace","fromIndex","indexOf","toIndex","handleResize","screenMin","screenMax","Infinity"],"sources":["../../../src/Breakpoint/Breakpoint.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport React, { useCallback, useState } from 'react'\nimport type { ReactNode } from 'react'\nimport type { NamedBreakpoints } from '@looker/design-tokens'\nimport { convertRemToPx, BreakpointRamp } from '@looker/design-tokens'\nimport isArray from 'lodash/isArray'\nimport { useTheme } from 'styled-components'\nimport { useResize } from '../utils'\n\nexport interface BreakpointProps {\n  /*\n   * Define a single screen size or range of screen sizes to render the children.\n   */\n  show: NamedBreakpoints | [NamedBreakpoints?, NamedBreakpoints?]\n  children?: ReactNode\n}\n\nexport const Breakpoint = ({ children, show }: BreakpointProps) => {\n  // Define screen size range.\n  // If they pass a single value, e.g. 'mobile', it should be equivalent to\n  // \"from mobile, to mobile\"\n  const [from = 'mobile', to = 'xl'] = isArray(show) ? show : [show, show]\n  const [screenWidth, setScreenWidth] = useState(\n    typeof document === 'undefined' ? 800 : document.body.clientWidth\n  )\n  const theme = useTheme()\n  const breakpointPx = theme.breakpoints.map((b: string) =>\n    convertRemToPx(parseInt(b.replace('rem', '')))\n  )\n\n  const fromIndex = theme.breakpoints.indexOf(BreakpointRamp[from])\n  const toIndex = theme.breakpoints.indexOf(BreakpointRamp[to])\n\n  const handleResize = useCallback(() => {\n    if (document) {\n      // document is not available in server side rendering\n      setScreenWidth(document.body.clientWidth)\n    }\n  }, [])\n\n  useResize(\n    typeof document === 'undefined' ? null : document.body,\n    handleResize\n  )\n\n  const screenMin = from === 'mobile' ? 0 : breakpointPx[fromIndex - 1] // mobile screens start at 0px\n  const screenMax = to === 'xl' ? Infinity : breakpointPx[toIndex] // xl includes xl breakpoint and above\n\n  return (\n    <>{screenWidth > screenMin && screenWidth <= screenMax ? children : null}</>\n  )\n}\n"],"mappings":";;AAKA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAGpD,SAASC,cAAc,EAAEC,cAAc,QAAQ,uBAAuB;AACtE,OAAOC,OAAO,MAAM,gBAAgB;AACpC,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,SAAS,QAAQ,UAAU;AAUpC,OAAO,MAAMC,UAAU,GAAG,CAAC;EAAEC,QAAQ;EAAEC;AAAsB,CAAC,KAAK;EAIjE,MAAM,CAACC,IAAI,GAAG,QAAQ,EAAEC,EAAE,GAAG,IAAI,CAAC,GAAGP,OAAO,CAACK,IAAI,CAAC,GAAGA,IAAI,GAAG,CAACA,IAAI,EAAEA,IAAI,CAAC;EACxE,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAC5C,OAAOa,QAAQ,KAAK,WAAW,GAAG,GAAG,GAAGA,QAAQ,CAACC,IAAI,CAACC,WAAW,CAClE;EACD,MAAMC,KAAK,GAAGZ,QAAQ,EAAE;EACxB,MAAMa,YAAY,GAAGD,KAAK,CAACE,WAAW,CAACC,GAAG,CAAEC,CAAS,IACnDnB,cAAc,CAACoB,QAAQ,CAACD,CAAC,CAACE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,CAC/C;EAED,MAAMC,SAAS,GAAGP,KAAK,CAACE,WAAW,CAACM,OAAO,CAACtB,cAAc,CAACO,IAAI,CAAC,CAAC;EACjE,MAAMgB,OAAO,GAAGT,KAAK,CAACE,WAAW,CAACM,OAAO,CAACtB,cAAc,CAACQ,EAAE,CAAC,CAAC;EAE7D,MAAMgB,YAAY,GAAG3B,WAAW,CAAC,MAAM;IACrC,IAAIc,QAAQ,EAAE;MAEZD,cAAc,CAACC,QAAQ,CAACC,IAAI,CAACC,WAAW,CAAC;IAC3C;EACF,CAAC,EAAE,EAAE,CAAC;EAENV,SAAS,CACP,OAAOQ,QAAQ,KAAK,WAAW,GAAG,IAAI,GAAGA,QAAQ,CAACC,IAAI,EACtDY,YAAY,CACb;EAED,MAAMC,SAAS,GAAGlB,IAAI,KAAK,QAAQ,GAAG,CAAC,GAAGQ,YAAY,CAACM,SAAS,GAAG,CAAC,CAAC;EACrE,MAAMK,SAAS,GAAGlB,EAAE,KAAK,IAAI,GAAGmB,QAAQ,GAAGZ,YAAY,CAACQ,OAAO,CAAC;;EAEhE,OACE,0CAAGd,WAAW,GAAGgB,SAAS,IAAIhB,WAAW,IAAIiB,SAAS,GAAGrB,QAAQ,GAAG,IAAI,CAAI;AAEhF,CAAC"}