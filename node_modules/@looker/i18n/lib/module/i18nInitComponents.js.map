{"version":3,"file":"i18nInitComponents.js","names":["i18next","enDate","initReactI18next","i18nInitOptions","i18nUpdate","i18nInitOptionsComponents","react","useSuspense","dateLocale","setDateLocale","_dateLocale","getDateLocale","i18nInitComponents","locale","resources","isInitialized","use","init","lng"],"sources":["../../src/i18nInitComponents.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport i18next from 'i18next'\nimport enDate from 'date-fns/locale/en-US'\nimport type { InitOptions } from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport type { I18nStateWithDates } from './types'\nimport { i18nInitOptions, i18nUpdate } from './i18nInit'\n\nexport const i18nInitOptionsComponents: InitOptions = {\n  ...i18nInitOptions,\n  react: {\n    useSuspense: false,\n  },\n}\n\n// Set and get the current date locale, defaults to English/US\nlet dateLocale: Locale = enDate\nconst setDateLocale = (_dateLocale?: Locale) => {\n  if (_dateLocale) {\n    dateLocale = _dateLocale\n  }\n}\n/**\n * @returns the current date-fns locale module (defaults to en-US)\n */\nexport const getDateLocale = () => {\n  return dateLocale\n}\n\n/**\n * Directly initialize the localization instance\n * (not needed if using ComponentsProvider)\n */\nexport async function i18nInitComponents({\n  locale,\n  resources,\n  dateLocale,\n}: Partial<I18nStateWithDates>) {\n  setDateLocale(dateLocale)\n  if (i18next.isInitialized) {\n    i18nUpdate({ locale, resources })\n    return i18next\n  } else {\n    return i18next.use(initReactI18next).init({\n      ...i18nInitOptionsComponents,\n      lng: locale,\n      resources,\n    })\n  }\n}\n"],"mappings":";;;;AAKA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,MAAM,MAAM,uBAAuB;AAE1C,SAASC,gBAAgB,QAAQ,eAAe;AAEhD,SAASC,eAAe,EAAEC,UAAU,QAAQ,YAAY;AAExD,OAAO,MAAMC,yBAAsC,mCAC9CF,eAAe;EAClBG,KAAK,EAAE;IACLC,WAAW,EAAE;EACf;AAAC,EACF;;AAGD,IAAIC,UAAkB,GAAGP,MAAM;AAC/B,MAAMQ,aAAa,GAAIC,WAAoB,IAAK;EAC9C,IAAIA,WAAW,EAAE;IACfF,UAAU,GAAGE,WAAW;EAC1B;AACF,CAAC;AAID,OAAO,MAAMC,aAAa,GAAG,MAAM;EACjC,OAAOH,UAAU;AACnB,CAAC;;AAMD,OAAO,eAAeI,kBAAkB,CAAC;EACvCC,MAAM;EACNC,SAAS;EACTN;AAC2B,CAAC,EAAE;EAC9BC,aAAa,CAACD,UAAU,CAAC;EACzB,IAAIR,OAAO,CAACe,aAAa,EAAE;IACzBX,UAAU,CAAC;MAAES,MAAM;MAAEC;IAAU,CAAC,CAAC;IACjC,OAAOd,OAAO;EAChB,CAAC,MAAM;IACL,OAAOA,OAAO,CAACgB,GAAG,CAACd,gBAAgB,CAAC,CAACe,IAAI,iCACpCZ,yBAAyB;MAC5Ba,GAAG,EAAEL,MAAM;MACXC;IAAS,GACT;EACJ;AACF"}